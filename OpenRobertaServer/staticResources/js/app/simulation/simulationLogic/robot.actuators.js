var __extends=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}();define(["require","exports","interpreter.constants","simulation.math","guiState.controller","./simulation.objects","util.roberta","jquery","blockly"],(function(t,e,i,o,r,s,a,h,l){Object.defineProperty(e,"__esModule",{value:!0}),e.Motors=e.PinActuators=e.MbotRGBLed=e.ThymioSoundLed=e.ThymioTemperatureLeds=e.ThymioProxHLeds=e.ThymioButtonLeds=e.ThymioCircleLeds=e.EdisonLeds=e.ThymioRGBLeds=e.RGBLed=e.MbotDisplay=e.MbedDisplay=e.MatrixDisplay=e.WebAudio=e.TTS=e.StatusLed=e.MbotChassis=e.ThymioChassis=e.EdisonChassis=e.NXTChassis=e.EV3Chassis=e.LegoChassis=e.RobotinoChassis=e.ChassisDiffDrive=e.ChassisMobile=void 0;var n=function(){function t(t){this.drawPriority=0,this.id=t}return t.prototype.getLines=function(){return[{x1:this.backLeft.rx,x2:this.frontLeft.rx,y1:this.backLeft.ry,y2:this.frontLeft.ry},{x1:this.frontLeft.rx,x2:this.frontRight.rx,y1:this.frontLeft.ry,y2:this.frontRight.ry},{x1:this.frontRight.rx,x2:this.backRight.rx,y1:this.frontRight.ry,y2:this.backRight.ry},{x1:this.backRight.rx,x2:this.backLeft.rx,y1:this.backRight.ry,y2:this.backLeft.ry}]},t.prototype.transformNewPose=function(t,e){o.transform(t,e.frontRight),o.transform(t,e.frontLeft),o.transform(t,e.backRight),o.transform(t,e.backLeft)},t.prototype.updateSensor=function(t,e,i,o,r,s,a){this.checkCollisions(this.id,i.pose,e,a)},t.prototype.getTolerance=function(){return 0},t}();e.ChassisMobile=n;var c=function(t){function e(e,i,o){var r=t.call(this,e)||this;for(var s in r.left={port:"",speed:0},r.right={port:"",speed:0},r.wheelBackLeft={bumped:!1,rx:0,ry:0,x:0,y:0},r.wheelBackRight={bumped:!1,rx:0,ry:0,x:0,y:0},r.wheelFrontLeft={bumped:!1,rx:0,ry:0,x:0,y:0},r.wheelFrontRight={bumped:!1,rx:0,ry:0,x:0,y:0},r.encoder={left:0,right:0,rightAngle:0,leftAngle:0},r.TRACKWIDTH=3*i.TRACKWIDTH,r.WHEELDIAMETER=i.WHEELDIAMETER,r.ENC=360/(3*Math.PI*r.WHEELDIAMETER),r.MAXPOWER=o*r.WHEELDIAMETER*Math.PI*3/100,i.ACTUATORS){var a=i.ACTUATORS[s];"RIGHT"===a.MOTOR_DRIVE&&(r.right.port=s,r.right.speed=0),"LEFT"===a.MOTOR_DRIVE&&(r.left.port=s,r.left.speed=0)}return r}return __extends(e,t),e.prototype.draw=function(t,e){t.save(),t.lineWidth=2.5,t.strokeStyle=this.wheelLeft.color,t.beginPath(),t.moveTo(0,this.wheelLeft.y-this.axisDiff),t.lineTo(0,this.wheelRight.y+this.wheelRight.h+this.axisDiff),t.stroke(),t.closePath(),t.fillStyle=this.wheelBack.color,t.fillRect(this.wheelBack.x,this.wheelBack.y,this.wheelBack.w,this.wheelBack.h),t.fillStyle=this.geom.color,t.fillRect(15,-10,8,20),t.shadowBlur=5,t.shadowColor="black",t.beginPath();var i=this.geom.radius||0;t.moveTo(this.geom.x+i,this.geom.y),t.lineTo(this.geom.x+this.geom.w-i,this.geom.y),t.quadraticCurveTo(this.geom.x+this.geom.w,this.geom.y,this.geom.x+this.geom.w,this.geom.y+i),t.lineTo(this.geom.x+this.geom.w,this.geom.y+this.geom.h-i),t.quadraticCurveTo(this.geom.x+this.geom.w,this.geom.y+this.geom.h,this.geom.x+this.geom.w-i,this.geom.y+this.geom.h),t.lineTo(this.geom.x+i,this.geom.y+this.geom.h),t.quadraticCurveTo(this.geom.x,this.geom.y+this.geom.h,this.geom.x,this.geom.y+this.geom.h-i),t.lineTo(this.geom.x,this.geom.y+i),t.quadraticCurveTo(this.geom.x,this.geom.y,this.geom.x+i,this.geom.y),t.closePath(),t.fill(),t.shadowBlur=0,t.shadowOffsetX=0,t.beginPath(),t.lineWidth=2,t.fill(),t.closePath(),t.fillStyle=this.wheelLeft.color,t.fillRect(this.wheelLeft.x,this.wheelLeft.y,this.wheelLeft.w,this.wheelLeft.h),t.fillStyle=this.wheelRight.color,t.fillRect(this.wheelRight.x,this.wheelRight.y,this.wheelRight.w,this.wheelRight.h),t.restore()},e.prototype.getTolerance=function(){return Math.max(Math.abs(this.right.speed),Math.abs(this.left.speed)||0)},e.prototype.transformNewPose=function(e,i){t.prototype.transformNewPose.call(this,e,i),o.transform(e,i.frontMiddle),o.transform(e,i.backMiddle),o.transform(e,i.wheelFrontRight),o.transform(e,i.wheelBackRight),o.transform(e,i.wheelFrontLeft),o.transform(e,i.wheelBackLeft)},e.prototype.updateAction=function(t,e,r){var s,a,h=t.interpreter.getRobotBehaviour().getActionState("motors",!0);if(h)if(s=h[i.MOTOR_LEFT],a=h[i.MOTOR_RIGHT],null!=s&&null!=a)h[i.ANGLE]&&(this.angle=Math.abs(h[i.ANGLE])),h[i.DISTANCE]&&(this.distance=3*Math.abs(h[i.DISTANCE]));else{var l=void 0;for(var n in h[i.ROTATIONS]&&(l=360*h[i.ROTATIONS]),h[i.DEGREE]&&(l=h[i.DEGREE]),h[i.DISTANCE]&&(l=h[i.DISTANCE]/Math.PI/this.WHEELDIAMETER/360*3),h)n.toLowerCase()===this.left.port.toLowerCase()&&(s=h[n],l&&(this.encoder.leftAngle=l)),n.toLowerCase()===this.right.port.toLowerCase()&&(a=h[n],l&&(this.encoder.rightAngle=l))}null!=s&&(s>100?s=100:s<-100&&(s=-100),this.left.speed=s*this.MAXPOWER),null!=a&&(a>100?a=100:a<-100&&(a=-100),this.right.speed=a*this.MAXPOWER);var c=this.right.speed=r?this.right.speed:0,d=this.left.speed=r?this.left.speed:0;if((this.frontLeft.bumped||this.wheelFrontLeft.bumped)&&this.left.speed>0&&(d*=-1),this.backLeft.bumped&&this.left.speed<0&&(d*=-1),(this.frontRight.bumped||this.wheelFrontRight.bumped)&&this.right.speed>0&&(c*=-1),this.backRight.bumped&&this.right.speed<0&&(c*=-1),o.epsilonEqual(c,d,1e-6)){var f=c*e,p=Math.cos(t.pose.theta)*f,y=Math.sqrt(Math.pow(f,2)-Math.pow(p,2));t.pose.x+=p,f>=0?t.pose.theta<Math.PI?t.pose.y+=y:t.pose.y-=y:t.pose.theta>Math.PI?t.pose.y+=y:t.pose.y-=y,t.thetaDiff=0}else{var g=this.TRACKWIDTH/2*((d+c)/(d-c)),m=(d-c)/this.TRACKWIDTH,u=t.pose.x-g*Math.sin(t.pose.theta),k=t.pose.y+g*Math.cos(t.pose.theta);t.pose.x=Math.cos(m*e)*(t.pose.x-u)-Math.sin(m*e)*(t.pose.y-k)+u,t.pose.y=Math.sin(m*e)*(t.pose.x-u)+Math.cos(m*e)*(t.pose.y-k)+k,t.thetaDiff=m*e,t.pose.theta+=t.thetaDiff}var x=this;function A(){t.interpreter.getRobotBehaviour().setBlocking(!1),x.right.speed=0,x.left.speed=0}if(this.angle){t.thetaDiff>=0?this.angle-=t.thetaDiff:this.angle+=t.thetaDiff;var b=10*(Math.abs(this.right.speed)+e*this.TRACKWIDTH);this.angle<Math.abs(t.thetaDiff)/b&&(this.angle=null,A())}if(this.distance){var w=Math.sqrt(Math.pow(t.pose.x-t.pose.xOld,2)+Math.pow(t.pose.y-t.pose.yOld,2));this.distance-=w;b=(Math.abs(this.right.speed)+Math.abs(this.left.speed))/20;this.distance<w/b&&(this.distance=null,A())}if(this.encoder.leftAngle){var v=this.left.speed*e*this.ENC;this.encoder.leftAngle-=v;b=Math.abs(this.left.speed);this.encoder.leftAngle<0&&(this.encoder.leftAngle=null,A())}if(this.encoder.rightAngle){var R=this.right.speed*e*this.ENC;this.encoder.rightAngle-=R;b=Math.abs(this.right.speed);this.encoder.rightAngle<0&&(this.encoder.rightAngle=null,A())}this.transformNewPose(t.pose,this)},e.prototype.checkCollisions=function(t,e,i,r){var a=r.slice(-1)[0];var h=[this.frontLeft,this.frontRight,this.backLeft,this.backRight,this.wheelFrontRight,this.wheelFrontLeft,this.wheelBackLeft,this.wheelBackRight];h.forEach((function(t){var e;t.bumped=!1,((e=t).rx<a.x||e.rx>a.x+a.w||e.ry<a.y||e.ry>a.y+a.h)&&(e.bumped=!0)}));for(var l=function(e){var a=r[e];if(a instanceof n&&a.id==t)return"continue";if(h.filter((function(t){return t.bumped=t.bumped||o.checkInObstacle(a,t)})).map((function(t){return t.bumped})).reduce((function(t,e){return t||e}),!1))c.frontLeft.bumped=c.frontLeft.bumped||c.frontMiddle.bumped,c.frontRight.bumped=c.frontRight.bumped||c.frontMiddle.bumped,c.backLeft.bumped=c.backLeft.bumped||c.backMiddle.bumped||c.wheelBackLeft.bumped,c.backRight.bumped=c.backRight.bumped||c.backMiddle.bumped||c.wheelBackRight.bumped;else{var l=[[c.frontLeft,c.frontRight,c.frontMiddle],[c.backLeft,c.backRight,c.backMiddle],[c.wheelFrontRight,c.wheelBackRight],[c.wheelFrontLeft,c.wheelBackLeft]],d={x:0,y:0},f=Math.max(Math.abs(c.right.speed),Math.abs(c.left.speed));if(!(a instanceof s.CircleSimulationObject)){var p=a.getLines();l.forEach((function(t){for(var e=0;e<p.length;e++){var r=o.getIntersectionPoint({x1:t[0].rx,x2:t[1].rx,y1:t[0].ry,y2:t[1].ry},p[e]);r?Math.abs(t[0].rx-r.x)<Math.abs(t[1].rx-r.x)?t[0].bumped=!0:t[1].bumped=!0:t[2]&&(d=o.getDistanceToLine({x:t[2].rx,y:t[2].ry},{x:p[e].x1,y:p[e].y1},{x:p[e].x2,y:p[e].y2}),o.sqr(t[2].rx-d.x)+o.sqr(t[2].ry-d.y)<i*(a.getTolerance()+f)&&(t[0].bumped=!0,t[1].bumped=!0))}}))}}},c=this,d=0;d<r.length-1;d++)l(d)},e}(n);e.ChassisDiffDrive=c;var d=function(t){function e(e,i){var o=t.call(this,e)||this;return o.RADIUS=22.5,o.geom={x:-68,y:-68,w:136,h:136,radius:68,color:"#DDDDDD"},o.bumpedAngle=[],o.xDiff=0,o.yDiff=0,o.thetaDiff=0,o.xVel=0,o.yVel=0,o.thetaVel=0,o.backLeft={x:-68,y:-68,rx:0,ry:0,bumped:!1},o.backRight={x:-68,y:68,rx:0,ry:0,bumped:!1},o.frontLeft={x:68,y:-68,rx:0,ry:0,bumped:!1},o.frontRight={x:68,y:68,rx:0,ry:0,bumped:!1},o.img=new Image,o.MAXPOWER=1.5,o.MAXROTATION=.0057,o.transformNewPose(i,o),o.img.src="../../css/img/simulator/robotino.png",o.myPose=i,o}return __extends(e,t),e.prototype.reset=function(){this.xVel=0,this.yVel=0,this.thetaVel=0,this.xDiff=0,this.yDiff=0,this.thetaDiff=0,this.origin={x:this.myPose.x,y:this.myPose.y,theta:this.myPose.theta},h("#display"+this.id).html("")},e.prototype.checkCollisions=function(t,e,i,o){this.bumpedAngle=[];for(var r=0;r<o.length;r++){var s=o[r];if(!(s instanceof n&&s.id==t)){var a=s.chassis&&s.chassis.getTolerance()||0;e.radius=e.r=this.geom.radius+i*(this.getTolerance()+a);for(var h=this.getAnglePOI(e,s),l=0;l<h.length;l++)h[l]<999&&this.bumpedAngle.push(h[l])}}},e.prototype.updateAction=function(t,e,r){var s=t,h=t.interpreter.getRobotBehaviour().getActionState("omniDrive",!0);function l(t){var e=t>100?100:t;return e=t<-100?-100:e}if(h){if(h.reset)switch(h.reset){case i.X:this.origin.x=a.round(s.pose.x,0);break;case i.Y:this.origin.y=a.round(s.pose.y,0);break;case i.THETA:this.origin.theta=a.round(s.pose.theta,0);break;case"all":this.origin.x=a.round(s.pose.x,0),this.origin.y=a.round(s.pose.y,0),this.origin.theta=a.round(s.pose.theta,0)}if(this.xVel=0,this.yVel=0,this.thetaVel=0,void 0!==h[i.X+i.SPEED]&&(this.xVel=l(h[i.X+i.SPEED])*this.MAXPOWER),void 0!==h[i.Y+i.SPEED]&&(this.yVel=l(h[i.Y+i.SPEED])*this.MAXPOWER),void 0!==h[i.ANGLE+i.SPEED]&&(this.thetaVel=l(h[i.ANGLE+i.SPEED])*this.MAXROTATION),void 0!==h[i.DISTANCE]&&(this.distance=3*Math.abs(h[i.DISTANCE])),void 0!==h[i.ANGLE]&&(this.angle=o.toRadians(Math.abs(h[i.ANGLE]))),void 0!==h[i.X]&&void 0!==h[i.Y]&&void 0!==h[i.POWER]){var n=3*h[i.X]*Math.cos(this.origin.theta)+3*h[i.Y]*Math.sin(this.origin.theta)+this.origin.x,c=3*h[i.X]*Math.sin(this.origin.theta)-3*h[i.Y]*Math.cos(this.origin.theta)+this.origin.y,d=l(h[i.POWER])*this.MAXPOWER;this.distance=Math.sqrt((n-s.pose.x)*(n-s.pose.x)+(c-s.pose.y)*(c-s.pose.y));var f=d/this.distance,p=Math.cos(s.pose.theta)*(n-s.pose.x)+Math.sin(s.pose.theta)*(c-s.pose.y),y=-Math.sin(s.pose.theta)*(n-s.pose.x)+Math.cos(s.pose.theta)*(c-s.pose.y);this.xVel=p*f,this.yVel=-y*f}}this.xVel=r?this.xVel:0,this.yVel=r?this.yVel:0,this.thetaVel=r?this.thetaVel:0;var g=this.xVel*e,m=-this.yVel*e,u=this.thetaVel*e,k=Math.cos(s.pose.theta)*g-Math.sin(s.pose.theta)*m,x=Math.sin(s.pose.theta)*g+Math.cos(s.pose.theta)*m,A=Math.sqrt(k*k+x*x),b=(Math.atan2(x,k)+2*Math.PI)%(2*Math.PI);s.interpreter.getRobotBehaviour().getBlocking()&&this.bumpedAngle.length>0&&(this.xVel=0,this.yVel=0,this.thetaVel=0);for(var w=0;w<this.bumpedAngle.length;w++){if(Math.min(Math.abs(this.bumpedAngle[w]-b),2*Math.PI-Math.abs(this.bumpedAngle[w]-b))<Math.PI)k-=n=A*Math.cos(this.bumpedAngle[w]),x-=c=A*Math.sin(this.bumpedAngle[w])}if(s.pose.x+=k,s.pose.y+=x,s.pose.theta+=u,s.thetaDiff=u,this.xDiff=k,this.yDiff=-x,this.transformNewPose(s.pose,this),null!==this.distance){var v=Math.sqrt(Math.pow(s.pose.x-s.pose.xOld,2)+Math.pow(s.pose.y-s.pose.yOld,2));this.distance-=v;var R=(Math.abs(this.xVel)+Math.abs(this.yVel))/10;this.distance<v/R&&(this.distance=null,s.interpreter.getRobotBehaviour().setBlocking(!1),this.xVel=0,this.yVel=0,this.thetaVel=0,this.xDiff=0,this.yDiff=0,this.thetaDiff=0)}this.angle&&(s.thetaDiff>=0?this.angle-=s.thetaDiff:this.angle+=s.thetaDiff,this.angle<Math.abs(s.thetaDiff)/this.thetaVel/10&&(this.angle=null,s.interpreter.getRobotBehaviour().setBlocking(!1),this.xVel=0,this.yVel=0,this.thetaVel=0,this.xDiff=0,this.yDiff=0,this.thetaDiff=0))},e.prototype.draw=function(t,e){t.save(),this.bumpedAngle.length>0&&(t.fillStyle="#ff0000",t.beginPath(),t.arc(0,0,this.geom.radius+3,0,2*Math.PI),t.fill()),t.shadowBlur=5,t.shadowColor="black",this.img.width,t.drawImage(this.img,0,0,this.img.width,this.img.height,this.geom.x,this.geom.y,this.geom.w,this.geom.h),t.restore()},e.prototype.getTolerance=function(){return.5*(Math.abs(this.xVel)+Math.abs(this.yVel))},e.prototype.getAnglePOI=function(t,i){var r=i;if(r instanceof s.RectangleSimulationObject){var a=r;a.angle=0,a.centerY=a.y+a.h/2,a.centerX=a.x+a.w/2;var h=Math.cos(a.angle)*(t.x-a.centerX)-Math.sin(a.angle)*(t.y-a.centerY)+a.centerX,l=Math.sin(a.angle)*(t.x-a.centerX)+Math.cos(a.angle)*(t.y-a.centerY)+a.centerY,n=void 0,c=void 0;n=h<a.x?a.x:h>a.x+a.w?a.x+a.w:h,c=l<a.y?a.y:l>a.y+a.h?a.y+a.h:l;return o.getDistance({x:h,y:l},{x:n,y:c})<t.radius*t.radius?[Math.atan2(c-l,n-h)]:[999]}if(r instanceof s.CircleSimulationObject||r instanceof e){if(i instanceof e)r={x:(i.frontLeft.rx+i.frontRight.rx+i.backLeft.rx+i.backRight.rx)/4,y:(i.frontLeft.ry+i.frontRight.ry+i.backLeft.ry+i.backRight.ry)/4,r:70};return Math.sqrt(o.getDistance(t,r))<=t.radius+r.r?[(Math.atan2(r.y-t.y,r.x-t.x)+2*Math.PI)%(2*Math.PI)]:[999]}if(r instanceof s.TriangleSimulationObject||r instanceof s.Ground){var d=r.getLines();t.r=t.radius;for(var f=[],p=0;p<d.length;p++){var y=o.getMiddleIntersectionPointCircle(d[p],t);y&&f.push((Math.atan2(y.y-t.y,y.x-t.x)+2*Math.PI)%(2*Math.PI))}if(0==f.length){if(r instanceof s.Ground){var g=[{x:r.x,y:r.y},{x:r.x+r.w,y:r.y+r.h},{x:r.x+r.w,y:r.y},{x:r.x,y:r.y+r.h}];for(p=0;p<4;p++)(g[p].x-t.x)*(g[p].x-t.x)+(g[p].y-t.y)*(g[p].y-t.y)<=t.r*t.r&&f.push((Math.atan2(g[p].y-t.y,g[p].x-t.x)+2*Math.PI)%(2*Math.PI));if(f.length>0)return f}else for(g=[{x:r.ax,y:r.ay},{x:r.bx,y:r.by},{x:r.cx,y:r.cy}],p=0;p<3;p++)if((g[p].x-t.x)*(g[p].x-t.x)+(g[p].y-t.y)*(g[p].y-t.y)<=t.r*t.r)return[(Math.atan2(g[p].y-t.y,g[p].x-t.x)+2*Math.PI)%(2*Math.PI)];return[999]}return f}return[999]},e}(n);e.RobotinoChassis=d;var f=function(t){function e(e,i,r,s){var a=t.call(this,e,i,r)||this;return a.backLeft={x:-30,y:-20,rx:0,ry:0,bumped:!1},a.backMiddle={x:-30,y:0,rx:0,ry:0},a.backRight={x:-30,y:20,rx:0,ry:0,bumped:!1},a.frontLeft={x:25,y:-22.5,rx:0,ry:0,bumped:!1},a.frontMiddle={x:25,y:0,rx:0,ry:0},a.frontRight={x:25,y:22.5,rx:0,ry:0,bumped:!1},a.wheelBack={x:-33,y:-2,w:4,h:4,color:"#000000"},a.wheelLeft={x:-8,y:-24,w:16,h:8,color:"#000000"},a.wheelRight={x:-8,y:16,w:16,h:8,color:"#000000"},a.axisDiff=2,a.labelPriority=10,a.transformNewPose(s,a),a.wheelLeft.w=3*i.WHEELDIAMETER,a.wheelLeft.x=-a.wheelLeft.w/2,a.wheelRight.w=3*i.WHEELDIAMETER,a.wheelRight.x=-a.wheelRight.w/2,a.wheelLeft.y=3*-i.TRACKWIDTH/2-4,a.wheelRight.y=3*i.TRACKWIDTH/2-4,a.wheelFrontRight.x=a.wheelRight.x+a.wheelRight.w,a.wheelFrontRight.y=a.wheelRight.y+a.wheelRight.h,a.wheelBackRight.x=a.wheelRight.x,a.wheelBackRight.y=a.wheelRight.y+a.wheelRight.h,a.wheelFrontLeft.x=a.wheelLeft.x+a.wheelLeft.w,a.wheelFrontLeft.y=a.wheelLeft.y,a.wheelBackLeft.x=a.wheelLeft.x,a.wheelBackLeft.y=a.wheelLeft.y,o.transform(s,a.wheelFrontRight),o.transform(s,a.wheelBackRight),o.transform(s,a.wheelFrontLeft),o.transform(s,a.wheelBackLeft),a}return __extends(e,t),e.prototype.reset=function(){this.encoder.left=0,this.encoder.right=0,this.left.speed=0,this.right.speed=0,h("#display"+this.id).html("")},e.prototype.updateAction=function(e,i,o){t.prototype.updateAction.call(this,e,i,o),this.encoder.left+=this.left.speed*i,this.encoder.right+=this.right.speed*i;var r=e.interpreter.getRobotBehaviour().getActionState("encoder",!0);r&&(r[this.left.port.toLowerCase()]&&"reset"===r[this.left.port.toLowerCase()]&&(this.encoder.left=0),r[this.right.port.toLowerCase()]&&"reset"===r[this.right.port.toLowerCase()]&&(this.encoder.right=0))},e.prototype.updateSensor=function(e,i,o,r,s,a,h){t.prototype.updateSensor.call(this,e,i,o,r,s,a,h),e&&this.updateEncoders(e,r)},e.prototype.getLabel=function(){return"<div><label>"+this.left.port+" "+l.Msg.SENSOR_ENCODER+" "+l.Msg.LEFT+"</label><span>"+a.round(this.encoder.left*this.ENC,0)+"°</span></div><div><label>"+this.right.port+" "+l.Msg.SENSOR_ENCODER+" "+l.Msg.RIGHT+"</label><span>"+a.round(this.encoder.right*this.ENC,0)+"°</span></div>"},e.prototype.updateEncoders=function(t,e){t&&(e.encoder={},e.encoder[this.left.port.toLowerCase()]={},e.encoder[this.right.port.toLowerCase()]={},e.encoder[this.left.port.toLowerCase()][i.DEGREE]=this.encoder.left*this.ENC,e.encoder[this.right.port.toLowerCase()][i.DEGREE]=this.encoder.right*this.ENC,e.encoder[this.left.port.toLowerCase()][i.ROTATION]=this.encoder.left*this.ENC/360,e.encoder[this.right.port.toLowerCase()][i.ROTATION]=this.encoder.right*this.ENC/360,e.encoder[this.left.port.toLowerCase()][i.ROTATION]=this.encoder.left*this.ENC/360,e.encoder[this.right.port.toLowerCase()][i.ROTATION]=this.encoder.right*this.ENC/360,e.encoder[this.left.port.toLowerCase()][i.DISTANCE]=this.encoder.left/3,e.encoder[this.right.port.toLowerCase()][i.DISTANCE]=this.encoder.right/3)},e}(c);e.LegoChassis=f;var p=function(t){function e(e,i,o,r){var s=t.call(this,e,i,o,r)||this;return s.geom={x:-30,y:-20,w:50,h:40,radius:2.5,color:"#FCCC00"},s.topView='<svg id="brick'+s.id+'" xmlns="http://www.w3.org/2000/svg" width="313" height="482" viewBox="0 0 313 482"><path stroke-alignment="inner" d="M1 88h17.5v-87h276v87h17.5v306h-17.5v87h-276v-87h-17.5z" style="fill:#fff;stroke:#000;stroke-width:2"/><rect x="19.5" y="2" width="274" height="225" style="fill:#A3A2A4;stroke:none"/><rect x="19.5" y="202" width="274" height="25" style="fill:#635F61;stroke:none"/><path d="M45 47.4c0-5.3 5.7-7.7 5.7-7.7s206.7 0 211 0c4.3 0 6.7 7.7 6.7 7.7v118.3c0 5.3-5.7 7.7-5.7 7.7s-206.7 0-211 0S44 164.7 44 164.7" fill="#333"/><rect x="67" y="41" width="180" height="130" fill="#ddd"/><line x1="155.7" y1="246" x2="155.7" y2="172.4" style="fill:none;stroke-width:9;stroke:#000"/><path id="led'+s.id+'" fill="url("#LIGHTGRAY'+s.id+'") d="M155.5 242.5 l20 0 40 40 0 52 -40 40 -40 0 -40 -40 0 -52 40 -40z" fill="#977" /><path id="up'+s.id+'" class="simKey" d="M156 286c0 0 7 0 14.3-0.2s9 7.2 9 7.2v12.3h10.5v-19.5l9.7-9.7c0 0 2.8-0.2 0-3.3-2.8-3.2-26.5-25.7-26.5-25.7h-17-0.3-17c0 0-23.7 22.5-26.5 25.7s0 3.3 0 3.3l9.7 9.7v19.5h10.5v-12.3c0 0 1.7-7.3 9-7.2s14.3 0.2 14.3 0.2z" style="fill:#A3A2A4;stroke-width:2;stroke:#000"/><path id="down'+s.id+'" class="simKey" d="M156 331c0 0 7 0 14.3 0.2s9-7.2 9-7.2v-12.3h10.5v19.5l9.7 9.7c0 0 2.8 0.2 0 3.3-2.8 3.2-26.5 25.7-26.5 25.7h-17-0.3-17c0 0-23.7-22.5-26.5-25.7s0-3.3 0-3.3l9.7-9.7v-19.5h10.5v12.3c0 0 1.7 7.3 9 7.2s14.3-0.2 14.3-0.2z" style="fill:#A3A2A4;stroke-width:2;stroke:#000"/><path id="enter'+s.id+'" class="simKey" d="M138 293c0-1.4 0.9-2 0.9-2s32.6 0 33.2 0 1.1 2 1.1 2v31.4c0 1.4-0.9 2-0.9 2s-32.5 0-33.2 0c-0.7 0-1-2-1-2V293.1z" style="fill:#3C3C3B;stroke-width:2;stroke:#000"/><path id="escape'+s.id+'" class="simKey" d="M37 227v26.4c0 0 1.2 4.8 4.9 4.8s44.8 0 44.8 0l15.7-15.6v-15.7z" style="fill:#A3A2A4;stroke-width:2;stroke:#000"/><path id="left'+s.id+'" class="simKey" d="M69 309c0 12.5 14 17.9 14 17.9s27.1 0 29.8 0 2.8-1.7 2.8-1.7v-16.4 0.1-16.4c0 0-0.2-1.7-2.8-1.7s-29.7 0-29.7 0S69.3 296.7 69.3 309.2z" style="fill:#A3A2A4;stroke-width:2;stroke:#000"/><path id="right'+s.id+'" class="simKey" d="M242 309c0 12.5-14 17.9-14 17.9s-27.1 0-29.7 0-2.8-1.7-2.8-1.7v-16.4 0.1-16.4c0 0 0.2-1.7 2.8-1.7s29.8 0 29.8 0S241.9 296.7 241.9 309.2z" style="fill:#A3A2A4;stroke-width:2;stroke:#000"/><rect x="19" y="412.4" width="274" height="67.7" style="fill:#A3A2A4"/><rect x="2" y="376" width="17.5" height="17.5" style="fill:#635F61"/><rect x="294" y="376" width="17.5" height="17.5" style="fill:#635F61"/><rect x="231.7" y="426.6" width="9.6" height="5.4" style="fill:#E52520;stroke:#000"/><rect x="246.2" y="426.7" width="9.6" height="5.4" style="fill:#E52520;stroke:#000"/><rect x="227.5" y="432.4" width="32.6" height="26.2" style="fill:#E52520;stroke:#000"/><g id="display'+s.id+'" clip-path="url(#clipPath)" fill="#000" transform="translate(67, 41)" font-family="Courier New" font-size="10pt"></g><defs><clipPath id="clipPath"><rect x="0" y="0" width="178" height="128"/></clipPath><radialGradient id="ORANGE'+s.id+'" cx="50%" cy="50%" r="50%" fx="50%" fy="50%"><stop offset="0%" style="stop-color:rgb(255,255,255);stop-opacity:0" /><stop offset="100%" style="stop-color:rgb( 255, 165, 0);stop-opacity:1" /></radialGradient><radialGradient id="RED'+s.id+'" cx="50%" cy="50%" r="50%" fx="50%" fy="50%"><stop offset="0%" style="stop-color:rgb(255,255,255);stop-opacity:0" /><stop offset="100%" style="stop-color:rgb(255,0,0);stop-opacity:1" /></radialGradient><radialGradient id="GREEN'+s.id+'" cx="50%" cy="50%" r="50%" fx="50%" fy="50%"><stop offset="0%" style="stop-color:rgb(255,255,255);stop-opacity:0" /><stop offset="100%" style="stop-color:rgb(0,128,0);stop-opacity:1" /></radialGradient><radialGradient id="LIGHTGRAY'+s.id+'" cx="50%" cy="50%" r="50%" fx="50%" fy="50%"><stop offset="0%" style="stop-color:rgb(255,255,255);stop-opacity:0" /><stop offset="100%" style="stop-color:rgb(211,211,211);stop-opacity:1" /></radialGradient></defs></svg>',s.display={OLDGLASSES:'<image  width="178" height="128" alt="old glasses" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALIAAACACAQAAAAFMftFAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAAFeAAABXgAY1ULDgAAAMxSURBVHja7Z3blqowEESJy///Zc7TjA6XpDvpSzWn9tOohGyKNiBoZtsIIYQQQgghhBBCCCGEEEIIIYQQQggBpZmtac/eFFPscjFY2d9oTdXSMN+m+VVcV279mB22a67xs4YGKdNB6xv+nwH/MBW0rpFtwJFDi6W52lvTwL6Go2K2Nld6Sxf3GyS8g5YcyGa2TuEtW9R7HPYL+sq8iZc0spYsuItar+0Ij5h1J2OO1TxebFe0XAnaOmZ5Da/Yi6xfE6rb1hwqz3ZI0kfsaK3ft/bVYB/EXMSz7sM19yo5qhqsifYe7pyXqql/xOuDxqz3Ss+Dti9Fs5gqXos5y7trPTrw6VRtDl7za5mvYtdPAm+hbIWxeAa7cPf7jF6Xix8BqIZJfM+FhGuTDBeSk58gXWWryIg7nEPWdu1Twfp16r3DrMeVDFINE/TMQ72PIes691T1NPHzvlzzqJJhqkHNvXm49+jiNZDq0pZFep96fusWD1TVnJuDn9fLP/H1N8oDjLMWA3r3NvLecLbbFW9+6H2uktGBGixGY/IVoXUs6UycaNo7sFgle9z38kdbycHV0H47bF/PfYtUCP1TydCHsyZ4ZkDk9h36encXbf3GMbTzn/vPgxuhHavA4cfkdvVnu3i1T+r79GM5+hJL9nCif1dlmrfrB9khjpX37jNY/AlZf56cw37xGGrc7VGjkutRspKP4qVKokrI7eJxmaDhT+G2bbsbfcuMyRVCbhOvQFEh5B4lYv6EjKqL6qVwrl7JJWDIAaCHXHGwOIEe8pgCu+E75AK6JTjliF3JD9nt2CE/BIgbTEK3e8CtWckBnHNHqYrM6U6MrVnJAVj/1t/Tqw+wNSs5gNyvmOqsRsBaI34H2XpCwHRrDhcB4P3wZu2jNKQ12k/I1q9WAFpj/d7Ub3KcVOvRApHCNedyFlj7TX/kIKsAyjpuPhYDWRVA1k+eRhLGOn9C1OiZOhOsc6f2rTEJ2rJ17lXbCpOgGVjnXVKMvUmaap1zvSvnLnSadfwVr9zb/CnWtv/MxbcvO4Kt/T/K4kT7HGtCCCGEEEIIIYQQQgghhBBCCCGEEEIIId/8A/WUnnVgvvqBAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE2LTAzLTEzVDE0OjE3OjMyKzAxOjAw2vjCoQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxNi0wMy0xM1QxNDoxNzozMiswMTowMKuleh0AAAAASUVORK5CYII=" />',EYESOPEN:'<image width="178" height="128" alt="eyes open" xlink:href="data:image/png;base64,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" />',EYESCLOSED:'<image width="178" height="128" alt="eyes closed" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALIAAACACAQAAAAFMftFAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAAFeAAABXgAY1ULDgAAATbSURBVHja7ZxJksMgDEUhlftfmV7EiW3MIEDDh+ZvutoDoBcZgwR2bmtra2tra2tra2srlrdugJKCpbX/A3Kwtfdlbb+CwngRY1ofsjni9buLJ2IDi9f2ZAAvdm5tyCCIV+4uUoj3EI5VEH0xQNWCihEbW7ki5DtiAAsBmsCsK2IQ60CawSZAxEANYREk4nXHyUCIwRozKONYW14ozRkHBIsYo0E8o9owdLeo3qa180UXgBFbQuYM30AjtoIsEx8DRWzRsBrg9haZJkkp0vXkEuAxSMCIdRuXRgyNh0d6JoKFHzWlY+o/BqxlLlx8V1vyJv97xPJGgwYfdSVrOHDQRlOSxoNPdvUkBwB+HqYn2RmfHWKgpS3reRol9KRu80qQW2J7qnavApkypzSbdyJAHu8/W0bjBiN3S8g8/WcPNOo9TLNVG8itmZF8K/unO+k7RSLeCJkRSv9Zu6rHDr6fWurGTrU+3KXrOWaUKiMSq8xIS73p+7gm7XTME0DmerT97QhH+6mYu+vSWnA4Go+LPdhi0013nbrpJ+5Hm6v1wr6s4cl8IU9f+I+vXHbJQ+aNKiPMUJslDZk/cO+jv7ylikjnxcdpAsw+U7pkg/ZyQPg9z8st5JWEvF6OLzSEk75HvMaCw3UQ55SPswRpBDJ+LJuerXcYvnBlLoTlpT0Z0495JzXlQKxKd4GlkDnanomhpRO8c3KQRx5r/nVH9W6gFXNTnWieHB7/aUWLJexQGML1NSx1tD+tSlWthjhFVb4+eo75IXN5T+k9zlu37zhTb8XlXj7Iox+kyWWGvQvNk4Ca/MDZs06KNzvnOCDbxhL4N6zV5X+JA2LpvZC50dbKC9mhfgxAQ/6oO+3PjyN9kO281x/GSYTv24adJ+jqHUiji7vBlBef9XzSF/z5IlTI1n09VSR/nvXzOPw/QX+J/rg/W0IfZImQOfW8bBfRu2ChCHpWT+b25fHSCu8QHMiefE7Ol0dDnhl/loQs/eriz8mNK+nP49+uolQ5Uq4vXse5Fo7vCYlK7PVkqUfW30r22Xr0X709ZQ3n+Kw3c3Gvr+Nv669kWcj4mKWXLQTnkEYXI4b0vbiCOOKjZPnkjlb6nmdjjohwYxetaklTKe/l00hTSpiRr3uazZK928B6DW8VfaVP6S7Tbb/0lE6oXCH1YuGLNKgoD7m0TzMdDCn9YEgrlEE+xRAq51q2eXFjpk2CpvioSB5N/2ITvT131mmpSLnJyBm2G1fPMpW0pkRcnvHxb6bpnZuN3musEuSQOdYDvz4iKWtawM6VIHOvab9ibkM2sQ/Hpt/NSp8dXco69imGEYtM9YxdyEamroOrUk3heQCQHtnolGnto+c29XwzxTJSMqjn8Ko8ctaeubW+MAERf7oLSmRVYmtX63ataeUbpsbonzezbmNW3xdf/YNKkM2fQ6+Ei4TEf3MgBm3luxKvnAkxrG7jZH/743AQTz7ju0yrYRFTBdvSH+TpEQPr6C4ixFifA5m8szggJxFjAKYLuL2vRRBD67URy+vz4kNGPH2P/IGMjJgq6Fa/o6w0dGNn1ae72IhFdeYcMAFPHKo/9YJGvIjuo4stEWHjnTofcmqFjTngiNeADK8NWUHIj9oSwzfntieraENWEC7kBaJvX+FCXkgbsoL+APENFhEdy5OyAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE2LTAzLTEzVDE0OjI0OjIzKzAxOjAwwvAUiQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxNi0wMy0xM1QxNDoyNDoyMyswMTowMLOtrDUAAAAASUVORK5CYII=" />',FLOWERS:'<image width="178" height="128" alt="flowers" xlink:href="data:image/png;base64,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" />',TACHO:'<image width="178" height="128" alt="tacho" xlink:href="data:image/png;base64,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" />'},h("#simRobotContent").append(s.topView),h("#brick"+s.id).hide(),s}return __extends(e,t),e.prototype.updateAction=function(e,i,o){t.prototype.updateAction.call(this,e,i,o);var r=e.interpreter.getRobotBehaviour().getActionState("display",!0);if(r){var s=r.text,a=r.x,l=r.y,n=h("#display"+this.id);s&&n.html(n.html()+"<text x="+10*a+" y="+16*(l+1)+">"+s+"</text>"),r.picture&&n.html(this.display[r.picture]),r.clear&&n.html("")}},e}(f);e.EV3Chassis=p;var y=function(t){function e(e,i,o,r){var s=t.call(this,e,i,o,r)||this;return s.geom={x:-30,y:-20,w:50,h:40,radius:2.5,color:"LIGHTGREY"},s.topView='<svg id="brick'+s.id+'" xmlns="http://www.w3.org/2000/svg" width="254px" height="400px" viewBox="0 0 254 400" preserveAspectRatio="xMidYMid meet"><rect x="7" y="1" style="stroke-width: 2px;" stroke="black" id="backgroundConnectors" width="240" height="398" fill="#6D6E6C" /><rect x="1" y="24" style="stroke-width: 2px;" stroke="black" id="backgroundSides" width="252" height="352" fill="#F2F3F2" /><rect x="44" y="68" style="stroke-width: 4px;" stroke="#cccccc" width="170" height="106" fill="#DDDDDD" rx="4" ry="4" /><g id="display'+s.id+'" clip-path="url(#clipPath)" fill="#000" transform="translate(50, 72)" font-family="Courier New" letter-spacing="2px" font-size="10pt"></g><defs><clipPath id="clipPath"><rect x="0" y="0" width="160" height="96"/></clipPath></defs><rect x="101" y="216" style="stroke-width: 2px;" stroke="#cccccc" id="bg-center" width="52" height="90" fill="#cccccc" rx="4" ry="4" /><rect x="105" y="220" style="stroke-width: 1px;" stroke="black" id="enter'+s.id+'" class="simKey" width="44" height="44" fill="#DA8540" rx="2" ry="2" /><rect x="105" y="280" style="stroke-width: 1px;" stroke="black" id="escape'+s.id+'" class="simKey" width="44" height="22" fill="#6D6E6C" rx="2" ry="2" /><path d="M0.5,-4.13 l-4,7 h8 z" style="vector-effect: non-scaling-stroke; stroke-width: 8px; stroke-linecap: round; stroke-linejoin: round;" stroke="#cccccc" id="bg-left" transform="matrix(0, -5.5, 5.5, 0, 74.0, 245.0)" fill="#cccccc" /><path d="M0.0,16.7 l-4,7 h8 z" style="vector-effect: non-scaling-stroke; stroke-width: 8px; stroke-linecap: round; stroke-linejoin: round;" stroke="#cccccc" id="bg-right" transform="matrix(-0.0, 5.5, -5.5, -0.0, 294, 241)" fill="#cccccc" /><path d="M0.0,16.7 l-4,7 h8 z" style="vector-effect: non-scaling-stroke; stroke-width: 1px; stroke-linecap: round; stroke-linejoin: round;" stroke="black" id="right'+s.id+'" class="simKey" transform="matrix(-0.0, 5.5, -5.5, -0.0, 294, 241)" fill="#A3A2A4" /><path d="M0.5,-4.13 l-4,7 h8 z" style="vector-effect: non-scaling-stroke; stroke-width: 1px; stroke-linecap: round; stroke-linejoin: round;" stroke="black" id="left'+s.id+'" class="simKey" transform="matrix(0, -5.5, 5.5, 0, 74.0, 245.0)" fill="#A3A2A4" /><rect x="8" y="22" style="stroke-width: 1px; stroke: none;" id="bg-bordertop" width="238" height="3" fill="#6D6E6C" /><rect x="8" y="375" style="stroke-width: 1px; stroke: none;" id="bg-borderbottom" width="238" height="3" fill="#6D6E6C" /><line id="bg-line" x1="126" y1="176" x2="126" y2="216" style="stroke-width: 4px; fill: none;" stroke="#cccccc" /></svg>',h("#simRobotContent").append(s.topView),h("#brick"+s.id).hide(),s}return __extends(e,t),e.prototype.updateAction=function(e,i,o){t.prototype.updateAction.call(this,e,i,o);var r=e.interpreter.getRobotBehaviour().getActionState("display",!0);r&&(r.text&&h("#display"+this.id).html(h("#display").html()+"<text x="+1.5*r.x+" y="+12*r.y+">"+r.text+"</text>"),r.clear&&h("#display"+this.id).html(""))},e}(f);e.NXTChassis=y;var g=function(t){function e(e,i,o,r){var s=t.call(this,e,i,o)||this;return s.geom={x:-5.5,y:-11.25,w:24,h:22.5,radius:0,color:"#f2f2f2"},s.backLeft={x:-5.5,y:-11.25,rx:0,ry:0,bumped:!1},s.backMiddle={x:-5.5,y:0,rx:0,ry:0},s.backRight={x:-5.5,y:11.25,rx:0,ry:0,bumped:!1},s.frontLeft={x:18.5,y:-11.25,rx:0,ry:0,bumped:!1},s.frontMiddle={x:18.5,y:0,rx:0,ry:0},s.frontRight={x:18.5,y:11.25,rx:0,ry:0,bumped:!1},s.img=new Image,s.topView='<svg id="brick'+s.id+'" width="360" height="440" viewBox="0 0 360 440" xmlns="http://www.w3.org/2000/svg">\n  <defs>\n    <style>.cls-1{fill:#fff;}.cls-2{fill:none;stroke:#fff;stroke-miterlimit:10;}.cls-3{fill:#ff7000;};}</style>\n        <radialGradient id="radialGradientL'+s.id+'" cx="0.5" cy="0.5" r="1"  xlink:href="#linearGradientL'+s.id+'"/>        <radialGradient id="radialGradientR'+s.id+'" cx="0.5" cy="0.5" r="1"  xlink:href="#linearGradientR'+s.id+'"/>        <linearGradient id="linearGradientL'+s.id+'">            <stop id="stopOnL'+s.id+'" offset="0" style="stop-color:#00ff00;stop-opacity:1;"/>            <stop id="stopOffL'+s.id+'" offset="1" style="stop-color:#00ff00;stop-opacity:0;"/>        </linearGradient>        <linearGradient id="linearGradientR'+s.id+'">            <stop id="stopOnR'+s.id+'" offset="0" style="stop-color:#00ff00;stop-opacity:1;"/>            <stop id="stopOffR'+s.id+'" offset="1" style="stop-color:#00ff00;stop-opacity:0;"/>        </linearGradient>    </defs>  <rect id="background" class="cls-1" width="360" height="440" style="fill: #333333;"/>  <g transform="matrix(1, 0, 0, 1, -35, 5)">\n    <g>\n      <g id="main">\n        <path class="cls-3" d="m380.51,26.85c5.22,1.73,9.49,7.65,9.49,13.15v380c0,5.5-4.5,10-10,10H50c-5.5,0-10-4.5-10-10V40c0-5.5,4.27-11.42,9.49-13.15,0,0,81.01-26.85,165.51-26.85s165.51,26.85,165.51,26.85Z"/>\n      </g>\n    </g>\n    <g id="bricks">\n      <circle id="pin" class="cls-2" cx="66" cy="403.5" r="11"/>\n      <circle id="pin-2" class="cls-2" cx="109.5" cy="404" r="11"/>\n      <circle id="pin-3" class="cls-2" cx="109.5" cy="360.5" r="11"/>\n      <circle id="pin-4" class="cls-2" cx="109.5" cy="317" r="11"/>\n      <circle id="pin-5" class="cls-2" cx="109.5" cy="273.5" r="11"/>\n      <circle id="pin-6" class="cls-2" cx="109.5" cy="230" r="11"/>\n      <path id="pin-7" class="cls-2" d="m109.5,197.5c6.08,0,11-4.92,11-11s-4.92-11-11-11c-6.08,0-11,4.92-11,11,0,6.08,4.92,11,11,11Z"/>\n      <circle id="pin-8" class="cls-2" cx="109.5" cy="143" r="11"/>\n      <circle id="pin-9" class="cls-2" cx="109.5" cy="99.5" r="11"/>\n      <circle id="pin-10" class="cls-2" cx="66" cy="360" r="11"/>\n      <path id="pin-11" class="cls-2" d="m66.5,305.5c-6.08,0-11,4.92-11,11s4.92,11,11,11,11-4.92,11-11-4.92-11-11-11Z"/>\n      <circle id="pin-12" class="cls-2" cx="66.5" cy="273" r="11"/>\n      <circle id="pin-13" class="cls-2" cx="66.5" cy="229.5" r="11"/>\n      <circle id="pin-14" class="cls-2" cx="66.5" cy="186" r="11" transform="translate(-96.2 73.99) rotate(-35.78)"/>\n      <circle id="pin-15" class="cls-2" cx="66.5" cy="142.5" r="11"/>\n      <circle id="pin-16" class="cls-2" cx="66.5" cy="99" r="11"/>\n      <circle id="pin-17" class="cls-2" cx="320.5" cy="403.5" r="11"/>\n      <path id="pin-18" class="cls-2" d="m364,393c-6.08,0-11,4.92-11,11s4.92,11,11,11,11-4.92,11-11-4.92-11-11-11Z"/>\n      <circle id="pin-19" class="cls-2" cx="364" cy="360.5" r="11"/>\n      <circle id="pin-20" class="cls-2" cx="364" cy="317" r="11" transform="translate(-116.65 272.67) rotate(-35.78)"/>\n      <circle id="pin-21" class="cls-2" cx="364" cy="273.5" r="11"/>\n      <circle id="pin-22" class="cls-2" cx="364" cy="230" r="11"/>\n      <circle id="pin-23" class="cls-2" cx="364" cy="186.5" r="11"/>\n      <circle id="pin-24" class="cls-2" cx="364" cy="143" r="11"/>\n      <circle id="pin-25" class="cls-2" cx="364" cy="99.5" r="11"/>\n      <circle id="pin-26" class="cls-2" cx="320.5" cy="360" r="11"/>\n      <circle id="pin-27" class="cls-2" cx="321" cy="316.5" r="11"/>\n      <circle id="pin-28" class="cls-2" cx="321" cy="273" r="11"/>\n      <circle id="pin-29" class="cls-2" cx="321" cy="229.5" r="11"/>\n      <circle id="pin-30" class="cls-2" cx="321" cy="186" r="11"/>\n      <circle id="pin-31" class="cls-2" cx="321" cy="142.5" r="11"/>\n      <circle id="pin-32" class="cls-2" cx="321" cy="99" r="11"/>\n    </g>\n    <circle id="rec'+s.id+'" class="simKey" cx="215" cy="359.27" r="27.78" fill="#666666"/>\n    <g id="button_2">\n      <path fill="#666666" d="m187.22,336.6c0,1.1.54,1.28,1.2.4,0,0,8.8-11.73,26.02-11.73,17.22,0,27.05,11.8,27.05,11.8.7.85,1.28.64,1.28-.46v-51.56c0-1.1-.9-2-2-2h-51.56c-1.1,0-2,.9-2,2v51.56Z"/>\n    </g>\n    <g id="button_3">\n    <path fill="#666666" id="play'+s.id+'" class="simKey"       d="m216,230.11c-.55-.95-1.45-.95-2,0l-26,45.03c-.55.95-.1,1.73,1,1.73h52c1.1,0,1.55-.78,1-1.73l-26-45.03Z"/>\n    </g>\n    <ellipse id="lled-'+s.id+'" cx="125" cy="45" rx="20" ry="15" style="fill:url(#radialGradientL'+s.id+');fill-opacity:1;stroke:none;stroke-width:0.800002"/>    <ellipse id="rled-'+s.id+'" cx="305" cy="45" rx="20" ry="15" style="fill:url(#radialGradientR'+s.id+');fill-opacity:1;stroke:none;stroke-width:0.800002"/>  </g>\n</svg>',s.wheelBack={x:0,y:0,w:0,h:0,color:"#000000"},s.wheelLeft={x:0,y:0,w:0,h:0,color:"#000000"},s.wheelRight={x:0,y:0,w:0,h:0,color:"#000000"},s.transformNewPose(r,s),s.img.src="../../css/img/simulator/edison.png",s.right.port="RMOTOR",s.right.speed=0,s.left.port="LMOTOR",s.left.speed=0,h("#simRobotContent").append(s.topView),h("#brick"+s.id).hide(),s}return __extends(e,t),e.prototype.draw=function(t,e){t.save(),t.shadowBlur=5,t.shadowColor="black",t.drawImage(this.img,0,0,this.img.width,this.img.height,this.geom.x,this.geom.y,this.geom.w,this.geom.h),t.restore()},e.prototype.reset=function(){},e}(c);e.EdisonChassis=g;var m=function(t){function e(e,r,s,a){var l=t.call(this,e,r,s)||this;return l.geom={x:-9,y:-17,w:25,h:34,radius:0,color:"#f2f2f2"},l.backLeft={x:-9,y:-17,rx:0,ry:0,bumped:!1},l.backMiddle={x:-9,y:0,rx:0,ry:0},l.backRight={x:-9,y:17,rx:0,ry:0,bumped:!1},l.frontLeft={x:25,y:-18,rx:0,ry:0,bumped:!1},l.frontMiddle={x:26,y:0,rx:0,ry:0},l.frontRight={x:25,y:18,rx:0,ry:0,bumped:!1},l.topView='<svg width="114.00105mm" height="108.29441mm" viewBox="0 0 114.00105 108.29441" version="1.1" id="brick'+l.id+'" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">    <defs id="defs1608">        <radialGradient id="radialGradientL'+l.id+'" gradientUnits="userSpaceOnUse" cx="-295.9747" cy="513.95087" r="89.90358" gradientTransform="matrix(0.611236,0,0,0.611236,1782.0945,50.568234)" xlink:href="#linearGradientL'+l.id+'"/>        <linearGradient id="linearGradientL'+l.id+'">            <stop id="stopOnL'+l.id+'" offset="0" style="stop-color:#00ff00;stop-opacity:1;"/>            <stop id="stopOffL'+l.id+'" offset="1" style="stop-color:#00ff00;stop-opacity:0;"/>        </linearGradient>        <linearGradient id="linearGradientR'+l.id+'">            <stop id="stopOnR'+l.id+'" offset="0" style="stop-color:#00ff00;stop-opacity:1;"/>            <stop id="stopOffR'+l.id+'" offset="1" style="stop-color:#00ff00;stop-opacity:0;"/>        </linearGradient>        <radialGradient id="radialGradientR'+l.id+'" gradientUnits="userSpaceOnUse" cx="-295.9747" cy="513.95087" r="89.90358" gradientTransform="matrix(0.611236,0,0,0.611236,1938.8702,50.568234)" xlink:href="#linearGradientR'+l.id+'"/>    </defs>    <g id="g3040" transform="matrix(0.352778, 0, 0, -0.352778, -536.984924, -59.907566)">        <g id="g2035-4" transform="rotate(90,1027.2503,413.68387)">            <rect x="18.634" y="29.536" width="322.995" height="307.303" style="stroke: rgb(0, 0, 0); fill: rgb(51, 51, 51);" transform="matrix(0, -1, -1, 0, 473.721852, -62.266254)" rx="0.654" ry="0.654"/>            <g id="g1918-4" transform="matrix(1,0,0,-1,-140.47879,302.97336)"><path d="M 297.879,569.785 V 445.332" style="fill:none;stroke:#aaf0bf;stroke-width:4.76787;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" id="path1920-6"/></g>            <g id="g1922-6" transform="matrix(0,-1,-1,0,-140.47879,302.97336)"><path d="m 464.406,-297.879 9.535,-9.539 -33.375,9.539 33.375,9.535 z" style="fill:#aaf0bf;fill-opacity:1;fill-rule:evenodd;stroke:#aaf0bf;stroke-width:2.38394;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" id="path1924-9"/></g>            <g id="g1932-4" transform="matrix(0,-1,-1,0,-140.47879,302.97336)"><path d="M 401.125,-294.176 H 690.43 V -477.653 H 401.125 Z" style="fill:#f9f9f9;fill-opacity:1;fill-rule:nonzero;stroke:#f9f9f9;stroke-width:28.1783;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" id="path1934-4"/></g>            <g id="g1936-6" transform="matrix(0,-1,-1,0,-140.47879,302.97336)"><path d="m 696.477,-485.77 c 0,48.368 -67.469,87.579 -150.7,87.579 -83.226,0 -150.699,-39.211 -150.699,-87.579 0,-48.371 67.473,-87.582 150.699,-87.582 83.231,0 150.7,39.211 150.7,87.582 z" style="fill:#f9f9f9;fill-opacity:1;fill-rule:nonzero;stroke:#f9f9f9;stroke-width:16.0837;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" id="path1938-9"/></g>            <g class="simKey" id="forward'+l.id+'" transform="matrix(0,-1,-1,0,-140.47879,302.97336)"><path d="m 550.297,-537.441 h -9.899 l 2.473,-4.286 2.477,-4.289 2.472,4.289 z" style="fill:#ffffff;fill-opacity:1;fill-rule:nonzero;stroke:#e1e1e1;stroke-width:18.6392;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" id="path1942-2"/></g>            <g class="simKey" id="left'+l.id+'" transform="matrix(1,0,0,-1,-140.47879,302.97336)"><path d="m 506.168,509.211 h -9.898 l 2.476,-4.285 2.473,-4.289 2.476,4.289 z" style="fill:#ffffff;fill-opacity:1;fill-rule:nonzero;stroke:#e1e1e1;stroke-width:18.6392;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" id="path1946-8"/></g>            <g class="simKey" id="backward'+l.id+'" transform="matrix(0,1,1,0,-140.47879,302.97336)"><path d="m -540.398,465.656 h -9.899 l 2.477,-4.285 2.472,-4.285 2.477,4.285 z" style="fill:#ffffff;fill-opacity:1;fill-rule:nonzero;stroke:#e1e1e1;stroke-width:18.6392;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" id="path1950-2"/></g>            <g class="simKey" id="right'+l.id+'" transform="matrix(-1,0,0,1,-140.47879,302.97336)"><path d="m -496.27,-581.387 h -9.898 l 2.473,-4.285 2.476,-4.289 2.473,4.289 z" style="fill:#ffffff;fill-opacity:1;fill-rule:nonzero;stroke:#e1e1e1;stroke-width:18.6392;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" id="path1954-09"/></g>            <ellipse class="simKey" id="center'+l.id+'" style="fill: rgb(225, 225, 225);" transform="matrix(0, -1, -1, 0, 673.966797, 323.265869)" cx="565.5" cy="313" rx="18" ry="18"></ellipse>            <g id="g1962-8" transform="matrix(-1,-0.383864,-0.383864,1,-140.47879,302.97336)"><path d="m -192.384,-643.373 c -0.002,15.117 -5.326,29.749 -15.044,41.327" style="fill:none;stroke:#ffec7a;stroke-width:4.20567;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" id="cLed4-'+l.id+'"/></g>            <g id="g1966-4" transform="matrix(-0.383864,1,1,0.383864,-140.47879,302.97336)"><path d="m -581.138,253.215 c -0.002,15.117 -5.327,29.752 -15.045,41.33" style="fill:none;stroke:#ffec7a;stroke-width:4.20567;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" id="cLed6-'+l.id+'"/></g>            <g id="g1970-6" transform="matrix(-1,0.445229,0.445229,1,-140.47879,302.97336)"><path d="m -559.912,-270.028 c 0.001,14.793 -5.211,29.11 -14.721,40.441" style="fill:none;stroke:#ffec7a;stroke-width:4.11542;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" id="cLed5-'+l.id+'"/></g>            <g id="g1974-5" transform="matrix(0.445229,1,1,-0.445229,-140.47879,302.97336)"><path d="m -208.55,620.505 c 0,14.793 -5.211,29.109 -14.72,40.444" style="fill:none;stroke:#ffec7a;stroke-width:4.11542;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" id="cLed7-'+l.id+'"/></g>            <g id="g1978-7" transform="matrix(1,0.383864,0.383864,-1,-140.47879,302.97336)"><path d="m 316.272,643.46 c 0.002,15.118 -5.327,29.752 -15.041,41.332" style="fill:none;stroke:#ffec7a;stroke-width:4.20567;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" id="cLed0-'+l.id+'"/></g>            <g id="g1982-5" transform="matrix(-0.445229,-1,-1,0.445229,-140.47879,302.97336)"><path d="m 329.897,-621.856 c 0.001,14.793 -5.21,29.112 -14.719,40.444" style="fill:none;stroke:#ffec7a;stroke-width:4.11542;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" id="cLed3-'+l.id+'"/></g>            <g id="g1986-5" transform="matrix(1,-0.445229,-0.445229,-1,-140.47879,302.97336)"><path d="m 682.227,268.491 c 10e-4,14.793 -5.21,29.113 -14.716,40.443" style="fill:none;stroke:#ffec7a;stroke-width:4.11542;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" id="cLed1-'+l.id+'"/></g>            <g id="g1990-3" transform="matrix(0.383864,-1,-1,-0.383864,-140.47879,302.97336)"><path d="m 705.591,-255.231 c 0.002,15.118 -5.327,29.752 -15.041,41.332" style="fill:none;stroke:#ffec7a;stroke-width:4.20567;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" id="cLed2-'+l.id+'"/></g>            <g id="g1915-4"><path d="m 330.48621,-110.69067 c -3.125,0 -5.66,2.535 -5.66,5.66 0,3.125 2.535,5.656 5.66,5.656 3.125,0 5.656,-2.531 5.656,-5.656 0,-3.125 -2.531,-5.66 -5.656,-5.66 z" style="fill:#e1e1e1;fill-opacity:0.992157;fill-rule:nonzero;stroke:none" id="path1994-3"/>                <g id="g1996-6" transform="matrix(0,-1,-1,0,-140.47879,302.97336)"><path d="m 413.664,-470.965 c 0,3.125 -2.535,5.66 -5.66,5.66 -3.125,0 -5.656,-2.535 -5.656,-5.66 0,-3.125 2.531,-5.656 5.656,-5.656 3.125,0 5.66,2.531 5.66,5.656 z" style="fill:none;stroke:#e1e1e1;stroke-width:2.10875;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:0.992157" id="path1998-2"/></g>                <path d="m 330.48621,-128.66367 c -3.125,0 -5.66,2.535 -5.66,5.66 0,3.125 2.535,5.657 5.66,5.657 3.125,0 5.656,-2.532 5.656,-5.657 0,-3.125 -2.531,-5.66 -5.656,-5.66 z" style="fill:#e1e1e1;fill-opacity:0.992157;fill-rule:nonzero;stroke:none" id="path2000-3"/>                <g id="g2002-2" transform="matrix(0,-1,-1,0,-140.47879,302.97336)"><path d="m 431.637,-470.965 c 0,3.125 -2.535,5.66 -5.66,5.66 -3.125,0 -5.657,-2.535 -5.657,-5.66 0,-3.125 2.532,-5.656 5.657,-5.656 3.125,0 5.66,2.531 5.66,5.656 z" style="fill:none;stroke:#e1e1e1;stroke-width:2.10875;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:0.992157" id="path2004-5"/></g>                <path d="m 312.16221,-128.66367 c -3.125,0 -5.657,2.535 -5.657,5.66 0,3.125 2.532,5.657 5.657,5.657 3.125,0 5.66,-2.532 5.66,-5.657 0,-3.125 -2.535,-5.66 -5.66,-5.66 z" style="fill:#e1e1e1;fill-opacity:0.992157;fill-rule:nonzero;stroke:none" id="path2006-6"/>                <g id="g2008-9" transform="matrix(0,-1,-1,0,-140.47879,302.97336)"><path d="m 431.637,-452.641 c 0,3.125 -2.535,5.657 -5.66,5.657 -3.125,0 -5.657,-2.532 -5.657,-5.657 0,-3.125 2.532,-5.66 5.657,-5.66 3.125,0 5.66,2.535 5.66,5.66 z" style="fill:none;stroke:#e1e1e1;stroke-width:2.10875;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:0.992157" id="path2010-1"/></g>                <path d="m 312.16221,-110.69067 c -3.125,0 -5.657,2.535 -5.657,5.66 0,3.125 2.532,5.656 5.657,5.656 3.125,0 5.66,-2.531 5.66,-5.656 0,-3.125 -2.535,-5.66 -5.66,-5.66 z" style="fill:#e1e1e1;fill-opacity:0.992157;fill-rule:nonzero;stroke:none" id="path2012-6"/>                <g id="g2014-2" transform="matrix(0,-1,-1,0,-140.47879,302.97336)"><path d="m 413.664,-452.641 c 0,3.125 -2.535,5.657 -5.66,5.657 -3.125,0 -5.656,-2.532 -5.656,-5.657 0,-3.125 2.531,-5.66 5.656,-5.66 3.125,0 5.66,2.535 5.66,5.66 z" style="fill:none;stroke:#e1e1e1;stroke-width:2.10875;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:0.992157" id="path2016-0"/>                </g></g>            <g id="g1901-2"><path d="m 182.38021,-110.69067 c -3.125,0 -5.66,2.535 -5.66,5.66 0,3.125 2.535,5.656 5.66,5.656 3.125,0 5.657,-2.531 5.657,-5.656 0,-3.125 -2.532,-5.66 -5.657,-5.66 z" style="fill:#e1e1e1;fill-opacity:0.992157;fill-rule:nonzero;stroke:none" id="path2018-3"/>                <g id="g2020-0" transform="matrix(0,-1,-1,0,-140.47879,302.97336)"><path d="m 413.664,-322.859 c 0,3.125 -2.535,5.66 -5.66,5.66 -3.125,0 -5.656,-2.535 -5.656,-5.66 0,-3.125 2.531,-5.657 5.656,-5.657 3.125,0 5.66,2.532 5.66,5.657 z" style="fill:none;stroke:#e1e1e1;stroke-width:2.10875;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:0.992157" id="path2022-7"/></g>                <path d="m 182.38021,-128.66367 c -3.125,0 -5.66,2.535 -5.66,5.66 0,3.125 2.535,5.657 5.66,5.657 3.125,0 5.657,-2.532 5.657,-5.657 0,-3.125 -2.532,-5.66 -5.657,-5.66 z" style="fill:#e1e1e1;fill-opacity:0.992157;fill-rule:nonzero;stroke:none" id="path2024-4"/>                <g id="g2026-2" transform="matrix(0,-1,-1,0,-140.47879,302.97336)"><path d="m 431.637,-322.859 c 0,3.125 -2.535,5.66 -5.66,5.66 -3.125,0 -5.657,-2.535 -5.657,-5.66 0,-3.125 2.532,-5.657 5.657,-5.657 3.125,0 5.66,2.532 5.66,5.657 z" style="fill:none;stroke:#e1e1e1;stroke-width:2.10875;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:0.992157" id="path2028-9"/></g>                <path d="m 164.05621,-128.66367 c -3.125,0 -5.656,2.535 -5.656,5.66 0,3.125 2.531,5.657 5.656,5.657 3.125,0 5.66,-2.532 5.66,-5.657 0,-3.125 -2.535,-5.66 -5.66,-5.66 z" style="fill:#e1e1e1;fill-opacity:0.992157;fill-rule:nonzero;stroke:none" id="path2030-7"/>                <g id="g2032-5" transform="matrix(0,-1,-1,0,-140.47879,302.97336)"><path d="m 431.637,-304.535 c 0,3.125 -2.535,5.656 -5.66,5.656 -3.125,0 -5.657,-2.531 -5.657,-5.656 0,-3.125 2.532,-5.66 5.657,-5.66 3.125,0 5.66,2.535 5.66,5.66 z" style="fill:none;stroke:#e1e1e1;stroke-width:2.10875;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:0.992157" id="path2034-1"/></g>                <path d="m 164.05621,-110.69067 c -3.125,0 -5.656,2.535 -5.656,5.66 0,3.125 2.531,5.656 5.656,5.656 3.125,0 5.66,-2.531 5.66,-5.656 0,-3.125 -2.535,-5.66 -5.66,-5.66 z" style="fill:#e1e1e1;fill-opacity:0.992157;fill-rule:nonzero;stroke:none" id="path2036-0"/>                <g id="g2038-2" transform="matrix(0,-1,-1,0,-140.47879,302.97336)"><path d="m 413.664,-304.535 c 0,3.125 -2.535,5.656 -5.66,5.656 -3.125,0 -5.656,-2.531 -5.656,-5.656 0,-3.125 2.531,-5.66 5.656,-5.66 3.125,0 5.66,2.535 5.66,5.66 z" style="fill:none;stroke:#e1e1e1;stroke-width:2.10875;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:0.992157" id="path2040-8"/>                </g></g>            <g id="g1887-7"><path d="m 330.48621,-365.64767 c -3.125,0 -5.66,2.531 -5.66,5.656 0,3.125 2.535,5.66 5.66,5.66 3.125,0 5.656,-2.535 5.656,-5.66 0,-3.125 -2.531,-5.656 -5.656,-5.656 z" style="fill:#e1e1e1;fill-opacity:0.992157;fill-rule:nonzero;stroke:none" id="path2066-2"/>                <g id="g2068-1" transform="matrix(0,-1,-1,0,-140.47879,302.97336)"><path d="m 668.621,-470.965 c 0,3.125 -2.531,5.66 -5.656,5.66 -3.125,0 -5.66,-2.535 -5.66,-5.66 0,-3.125 2.535,-5.656 5.66,-5.656 3.125,0 5.656,2.531 5.656,5.656 z" style="fill:none;stroke:#e1e1e1;stroke-width:2.10875;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:0.992157" id="path2070-2"/></g>                <path d="m 330.48621,-383.62467 c -3.125,0 -5.66,2.536 -5.66,5.661 0,3.125 2.535,5.656 5.66,5.656 3.125,0 5.656,-2.531 5.656,-5.656 0,-3.125 -2.531,-5.661 -5.656,-5.661 z" style="fill:#e1e1e1;fill-opacity:0.992157;fill-rule:nonzero;stroke:none" id="path2072-0"/>                <g id="g2074-2" transform="matrix(0,-1,-1,0,-140.47879,302.97336)"><path d="m 686.598,-470.965 c 0,3.125 -2.535,5.66 -5.66,5.66 -3.125,0 -5.657,-2.535 -5.657,-5.66 0,-3.125 2.532,-5.656 5.657,-5.656 3.125,0 5.66,2.531 5.66,5.656 z" style="fill:none;stroke:#e1e1e1;stroke-width:2.10875;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:0.992157" id="path2076-6"/></g>                <path d="m 312.16221,-383.62467 c -3.125,0 -5.657,2.536 -5.657,5.661 0,3.125 2.532,5.656 5.657,5.656 3.125,0 5.66,-2.531 5.66,-5.656 0,-3.125 -2.535,-5.661 -5.66,-5.661 z" style="fill:#e1e1e1;fill-opacity:0.992157;fill-rule:nonzero;stroke:none" id="path2078-5"/>                <g id="g2080-62" transform="matrix(0,-1,-1,0,-140.47879,302.97336)"><path d="m 686.598,-452.641 c 0,3.125 -2.535,5.657 -5.66,5.657 -3.125,0 -5.657,-2.532 -5.657,-5.657 0,-3.125 2.532,-5.66 5.657,-5.66 3.125,0 5.66,2.535 5.66,5.66 z" style="fill:none;stroke:#e1e1e1;stroke-width:2.10875;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:0.992157" id="path2082-4"/></g>                <path d="m 312.16221,-365.64767 c -3.125,0 -5.657,2.531 -5.657,5.656 0,3.125 2.532,5.66 5.657,5.66 3.125,0 5.66,-2.535 5.66,-5.66 0,-3.125 -2.535,-5.656 -5.66,-5.656 z" style="fill:#e1e1e1;fill-opacity:0.992157;fill-rule:nonzero;stroke:none" id="path2084-9"/>                <g id="g2086-1" transform="matrix(0,-1,-1,0,-140.47879,302.97336)"><path d="m 668.621,-452.641 c 0,3.125 -2.531,5.657 -5.656,5.657 -3.125,0 -5.66,-2.532 -5.66,-5.657 0,-3.125 2.535,-5.66 5.66,-5.66 3.125,0 5.656,2.535 5.656,5.66 z" style="fill:none;stroke:#e1e1e1;stroke-width:2.10875;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:0.992157" id="path2088-9"/>                </g></g>            <path d="m 216.82221,-259.61267 c -9.285,0 -16.809,7.527 -16.809,16.809 0,9.281 7.524,16.808 16.809,16.808 9.281,0 16.804,-7.527 16.804,-16.808 0,-9.282 -7.523,-16.809 -16.804,-16.809 z" style="fill-opacity: 0.992157; fill-rule: nonzero; stroke: none; fill: rgb(51, 51, 51);" id="path2090-6"/>            <g id="g2092-5" transform="matrix(0,-1,-1,0,-140.47879,302.97336)"><path d="m 562.586,-357.301 c 0,9.285 -7.527,16.809 -16.809,16.809 -9.281,0 -16.808,-7.524 -16.808,-16.809 0,-9.281 7.527,-16.804 16.808,-16.804 9.282,0 16.809,7.523 16.809,16.804 z" style="fill:none;stroke:#e1e1e1;stroke-width:2.36636;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:0.992157" id="path2094-7"/></g>            <g id="g2096-1" transform="matrix(0,-1,-1,0,-140.47879,302.97336)"><path d="m 533.742,-394.172 h 29.277 v -13.223 h -29.277 z" style="fill:none;stroke:#e1e1e1;stroke-width:1.69323;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:0.992157" id="path2098-5"/></g>            <g id="g2100-9" transform="matrix(0,-1,-1,0,-140.47879,302.97336)"><path d="m 528.492,-398.367 h 5.207 v -5.375 h -5.207 z" style="fill:none;stroke:#e1e1e1;stroke-width:1.60906;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:0.992157" id="path2102-2"/></g>            <path d="m 255.84921,-251.53467 h 9.004 v -5.742 h -9.004 z" style="fill:#78ff6e;fill-opacity:0.992157;fill-rule:nonzero;stroke:none" id="path2104-1"/>            <g id="g2106-9" transform="matrix(0,-1,-1,0,-140.47879,302.97336)"><path d="m 554.508,-396.328 h 5.742 v -9.004 h -5.742 z" style="fill:none;stroke:#78ff6e;stroke-width:1.66559;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:0.992157" id="path2108-5"/></g>            <path d="m 255.84921,-242.51467 h 9.004 v -5.742 h -9.004 z" style="fill:#78ff6e;fill-opacity:0.992157;fill-rule:nonzero;stroke:none" id="path2110-8"/>            <g id="g2112-0" transform="matrix(0,-1,-1,0,-140.47879,302.97336)"><path d="m 545.488,-396.328 h 5.742 v -9.004 h -5.742 z" style="fill:none;stroke:#78ff6e;stroke-width:1.66559;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:0.992157" id="path2114-5"/></g>            <path d="m 255.84921,-233.49967 h 9.004 v -5.742 h -9.004 z" style="fill:#78ff6e;fill-opacity:0.992157;fill-rule:nonzero;stroke:none" id="path2116-8"/>            <g id="g2118-6" transform="matrix(0,-1,-1,0,-140.47879,302.97336)"><path d="m 536.473,-396.328 h 5.742 v -9.004 h -5.742 z" style="fill:none;stroke:#78ff6e;stroke-width:1.66559;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:0.992157" id="path2120-4"/></g>            <path d="m 176.76721,-230.89767 h 1.328 v -23.57 h -1.328 z" style="fill:#e1e1e1;fill-opacity:0.992157;fill-rule:nonzero;stroke:none" id="path2122-2"/>            <g id="g2124-9" transform="matrix(0,-1,-1,0,-140.47879,302.97336)"><path d="m 533.871,-317.246 h 23.57 v -1.328 h -23.57 z" style="fill:none;stroke:#e1e1e1;stroke-width:1.82907;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:0.992157" id="path2126-5"/></g>            <path d="m 172.68921,-230.89767 h 1.328 v -23.57 h -1.328 z" style="fill:#e1e1e1;fill-opacity:0.992157;fill-rule:nonzero;stroke:none" id="path2128-1"/>            <g id="g2130-7" transform="matrix(0,-1,-1,0,-140.47879,302.97336)"><path d="m 533.871,-313.168 h 23.57 v -1.328 h -23.57 z" style="fill:none;stroke:#e1e1e1;stroke-width:1.82907;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:0.992157" id="path2132-6"/></g>            <path d="m 168.61521,-230.89767 h 1.324 v -23.57 h -1.324 z" style="fill:#e1e1e1;fill-opacity:0.992157;fill-rule:nonzero;stroke:none" id="path2134-6"/>            <g id="g2136-2" transform="matrix(0,-1,-1,0,-140.47879,302.97336)"><path d="m 533.871,-309.094 h 23.57 v -1.324 h -23.57 z" style="fill:none;stroke:#e1e1e1;stroke-width:1.82907;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:0.992157" id="path2138-4"/></g>            <path d="m 164.53721,-230.89767 h 1.324 v -23.57 h -1.324 z" style="fill:#e1e1e1;fill-opacity:0.992157;fill-rule:nonzero;stroke:none" id="path2140-5"/>            <g id="g2142-2" transform="matrix(0,-1,-1,0,-140.47879,302.97336)"><path d="m 533.871,-305.016 h 23.57 v -1.324 h -23.57 z" style="fill:none;stroke:#e1e1e1;stroke-width:1.82907;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:0.992157" id="path2144-46"/></g>            <path d="m 160.45921,-230.89767 h 1.324 v -23.57 h -1.324 z" style="fill:#e1e1e1;fill-opacity:0.992157;fill-rule:nonzero;stroke:none" id="path2146-84"/>            <g id="g2148-6" transform="matrix(0,-1,-1,0,-140.47879,302.97336)"><path d="m 533.871,-300.938 h 23.57 v -1.324 h -23.57 z" style="fill:none;stroke:#e1e1e1;stroke-width:1.82907;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:0.992157" id="path2150-5"/></g>            <g id="g1873-9" transform="translate(-1.49556,2.23225)"><path d="m 183.87678,-367.87987 c -3.125,0 -5.66,2.531 -5.66,5.656 0,3.125 2.535,5.66 5.66,5.66 3.125,0 5.656,-2.535 5.656,-5.66 0,-3.125 -2.531,-5.656 -5.656,-5.656 z" style="fill:#e1e1e1;fill-opacity:0.992157;fill-rule:nonzero;stroke:none;stroke-width:0.999998" id="path2066-1-4"/>                <g id="g2068-2-7" transform="matrix(0,-1,-1,0,-287.08823,300.74111)"><path d="m 668.621,-470.965 c 0,3.125 -2.531,5.66 -5.656,5.66 -3.125,0 -5.66,-2.535 -5.66,-5.66 0,-3.125 2.535,-5.656 5.66,-5.656 3.125,0 5.656,2.531 5.656,5.656 z" style="fill:none;stroke:#e1e1e1;stroke-width:2.10875;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:0.992157" id="path2070-9-0"/></g>                <path d="m 183.87678,-385.85687 c -3.125,0 -5.66,2.536 -5.66,5.661 0,3.125 2.535,5.656 5.66,5.656 3.125,0 5.656,-2.531 5.656,-5.656 0,-3.125 -2.531,-5.661 -5.656,-5.661 z" style="fill:#e1e1e1;fill-opacity:0.992157;fill-rule:nonzero;stroke:none;stroke-width:0.999998" id="path2072-6-2"/>                <g id="g2074-8-2" transform="matrix(0,-1,-1,0,-287.08823,300.74111)"><path d="m 686.598,-470.965 c 0,3.125 -2.535,5.66 -5.66,5.66 -3.125,0 -5.657,-2.535 -5.657,-5.66 0,-3.125 2.532,-5.656 5.657,-5.656 3.125,0 5.66,2.531 5.66,5.656 z" style="fill:none;stroke:#e1e1e1;stroke-width:2.10875;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:0.992157" id="path2076-1-4"/></g>                <path d="m 165.55278,-385.85687 c -3.125,0 -5.657,2.536 -5.657,5.661 0,3.125 2.532,5.656 5.657,5.656 3.125,0 5.66,-2.531 5.66,-5.656 0,-3.125 -2.535,-5.661 -5.66,-5.661 z" style="fill:#e1e1e1;fill-opacity:0.992157;fill-rule:nonzero;stroke:none;stroke-width:0.999998" id="path2078-7-3"/>                <g id="g2080-6-3" transform="matrix(0,-1,-1,0,-287.08823,300.74111)"><path d="m 686.598,-452.641 c 0,3.125 -2.535,5.657 -5.66,5.657 -3.125,0 -5.657,-2.532 -5.657,-5.657 0,-3.125 2.532,-5.66 5.657,-5.66 3.125,0 5.66,2.535 5.66,5.66 z" style="fill:none;stroke:#e1e1e1;stroke-width:2.10875;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:0.992157" id="path2082-9-4"/></g>                <path d="m 165.55278,-367.87987 c -3.125,0 -5.657,2.531 -5.657,5.656 0,3.125 2.532,5.66 5.657,5.66 3.125,0 5.66,-2.535 5.66,-5.66 0,-3.125 -2.535,-5.656 -5.66,-5.656 z" style="fill:#e1e1e1;fill-opacity:0.992157;fill-rule:nonzero;stroke:none;stroke-width:0.999998" id="path2084-3-0"/>                <g id="g2086-2-9" transform="matrix(0,-1,-1,0,-287.08823,300.74111)"><path d="m 668.621,-452.641 c 0,3.125 -2.531,5.657 -5.656,5.657 -3.125,0 -5.66,-2.532 -5.66,-5.657 0,-3.125 2.535,-5.66 5.66,-5.66 3.125,0 5.656,2.535 5.656,5.66 z" style="fill:none;stroke:#e1e1e1;stroke-width:2.10875;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:0.992157" id="path2088-1-2"/>                </g></g>        </g>        <circle r="54.952305" cy="364.71353" cx="1601.1842" id="path6434" style="fill:url(#radialGradientL'+l.id+');fill-opacity:1;stroke:none;stroke-width:0.800002" transform="scale(1,-1)"/>        <circle r="54.952305" cy="364.71353" cx="1757.96" id="path6434-6" style="fill:url(#radialGradientR'+l.id+');fill-opacity:1;stroke:none;stroke-width:0.800002" transform="scale(1,-1)"/>        <line id="bLed0-'+l.id+'" style="stroke-width:5; stroke-linecap:round;stroke: rgb(255, 0, 0);" x1="1673" y1="-230" x2="1693" y2="-230"></line>        <line id="bLed1-'+l.id+'" style="stroke-width:5; stroke-linecap:round;stroke: rgb(255, 0, 0);" x1="1705" y1="-243" x2="1705" y2="-263"></line>        <line id="bLed2-'+l.id+'" style="stroke-width:5; stroke-linecap:round;stroke: rgb(255, 0, 0);" x1="1673" y1="-274" x2="1693" y2="-274"></line>        <line id="bLed3-'+l.id+'" style="stroke-width:5; stroke-linecap:round;stroke: rgb(255, 0, 0);" x1="1661" y1="-243" x2="1661" y2="-263"></line>    </g>    <path id="hLed0-'+l.id+'" style="fill: rgb(255, 0, 0);" d="M 0.845 25.085 C 1.338 24.657 5.74 29.616 5.247 30.044 C 3.594 31.623 -0.808 26.664 0.845 25.085 Z" transform="matrix(-0.490385, -0.871506, 0.871506, -0.490385, -19.848418, 43.802865)"></path>    <path id="hLed5-'+l.id+'" style="fill: rgb(255, 0, 0);" d="M 109.103 25.178 C 109.596 24.75 113.998 29.709 113.505 30.137 C 111.852 31.716 107.45 26.757 109.103 25.178 Z" transform="matrix(0.925951, 0.377644, -0.377644, 0.925951, 18.727479, -39.913222)"/>    <path id="hLed2-'+l.id+'" style="fill: rgb(255, 0, 0);" d="M 51.475 -0.953 C 51.968 -1.381 56.37 3.578 55.877 4.006 C 54.224 5.585 49.822 0.626 51.475 -0.953 Z" transform="matrix(0.640245, -0.76817, 0.76817, 0.640245, 17.971182, 41.706459)"/>    <path id="hLed3-'+l.id+'" style="fill: rgb(255, 0, 0);" d="M 58.28 -0.954 C 58.773 -1.382 63.175 3.577 62.682 4.005 C 61.029 5.584 56.627 0.625 58.28 -0.954 Z" transform="matrix(0.695244, -0.718774, 0.718774, 0.695244, 17.184968, 43.8624)"/>    <path id="hLed4-'+l.id+'" style="fill: rgb(255, 0, 0);" d="M 88.15 5.504 C 88.643 5.076 93.045 10.035 92.552 10.463 C 90.899 12.042 86.497 7.083 88.15 5.504 Z" transform="matrix(0.907046, -0.421032, 0.421032, 0.907046, 4.963018, 38.72704)"/>    <path id="hLed1-'+l.id+'" style="fill: rgb(255, 0, 0);" d="M 19.875 6.311 C 20.368 5.883 24.77 10.842 24.277 11.27 C 22.624 12.849 18.222 7.89 19.875 6.311 Z" transform="matrix(0.268223, -0.963357, 0.963357, 0.268223, 7.431825, 27.64499)"/>    <path id="hLed6-'+l.id+'" style="fill: rgb(255, 0, 0);" d="M 12.855 103.913 C 12.891 103.9 17.296 108.856 17.257 108.872 C 15.604 110.451 11.202 105.492 12.855 103.913 Z" transform="matrix(-0.65239, 0.757884, -0.757884, -0.65239, 104.870708, 165.265308)" bx:origin="0.429 0.526"/>    <path id="hLed7-'+l.id+'" style="fill: rgb(255, 0, 0);" d="M 97.274 103.987 C 97.31 103.974 101.715 108.93 101.676 108.946 C 100.023 110.525 95.621 105.566 97.274 103.987 Z" transform="matrix(-0.65239, 0.757884, -0.757884, -0.65239, 244.419879, 101.407797)" bx:origin="0.429 0.526"/>    <path id="tLed0-'+l.id+'" style="fill: rgb(255, 0, 0);" d="M -0.673 38.228 C -0.691 38.085 2.477 41.649 2.492 41.794 C 1.303 42.929 -1.862 39.364 -0.673 38.228 Z" transform="matrix(-0.740169, -0.672421, 0.672421, -0.740169, -25.197944, 70.940976)" bx:origin="0.596 0.558"/>    <path id="tLed1-'+l.id+'" style="fill: rgb(0, 0, 255);" d="M -0.646 43.304 C -0.664 43.161 2.504 46.725 2.519 46.87 C 1.33 48.005 -1.835 44.44 -0.646 43.304 Z" transform="matrix(-0.743328, -0.668927, 0.668927, -0.743328, -28.40192, 79.931728)" bx:origin="0.596 0.558"/>    <path id="mLed0-'+l.id+'" style="fill: rgb(0, 0, 255);" d="M 111.126 43.978 C 111.108 43.835 114.276 47.399 114.291 47.544 C 113.102 48.679 109.937 45.114 111.126 43.978 Z" transform="matrix(0.74996, 0.661483, -0.661483, 0.74996, 58.718071, -63.1615)" bx:origin="0.596 0.558"/></svg>',l.wheelBack={x:0,y:0,w:0,h:0,color:"#000000"},l.wheelLeft={x:0,y:0,w:0,h:0,color:"#000000"},l.wheelRight={x:0,y:0,w:0,h:0,color:"#000000"},l.transformNewPose(a,l),l.wheelFrontRight.x=l.wheelRight.x+l.wheelRight.w,l.wheelFrontRight.y=l.wheelRight.y+l.wheelRight.h,l.wheelBackRight.x=l.wheelRight.x,l.wheelBackRight.y=l.wheelRight.y+l.wheelRight.h,l.wheelFrontLeft.x=l.wheelLeft.x+l.wheelLeft.w,l.wheelFrontLeft.y=l.wheelLeft.y,l.wheelBackLeft.x=l.wheelLeft.x,l.wheelBackLeft.y=l.wheelLeft.y,o.transform(a,l.wheelFrontRight),o.transform(a,l.wheelBackRight),o.transform(a,l.wheelFrontLeft),o.transform(a,l.wheelBackLeft),l.right.port=i.RIGHT,l.right.speed=0,l.left.port=i.LEFT,l.left.speed=0,h("#simRobotContent").append(l.topView),h("#brick"+l.id).hide(),l}return __extends(e,t),e.prototype.draw=function(t,e){t.save();var i=this.geom.radius||0;this.frontLeft.bumped||this.frontRight.bumped||this.backLeft.bumped||this.backRight.bumped?t.shadowColor="red":t.shadowColor="black",t.shadowBlur=5,t.beginPath(),t.fillStyle=this.geom.color,t.moveTo(this.geom.x+i,this.geom.y),t.lineTo(this.geom.x+this.geom.w,this.geom.y),t.bezierCurveTo(this.geom.x+38,this.geom.y+6,this.geom.x+38,this.geom.y+this.geom.h-6,this.geom.x+this.geom.w,this.geom.y+this.geom.h),t.lineTo(this.geom.x+this.geom.w,this.geom.y+this.geom.h-i),t.quadraticCurveTo(this.geom.x+this.geom.w,this.geom.y+this.geom.h,this.geom.x+this.geom.w-i,this.geom.y+this.geom.h),t.lineTo(this.geom.x+i,this.geom.y+this.geom.h),t.quadraticCurveTo(this.geom.x,this.geom.y+this.geom.h,this.geom.x,this.geom.y+this.geom.h-i),t.lineTo(this.geom.x,this.geom.y+i),t.quadraticCurveTo(this.geom.x,this.geom.y,this.geom.x+i,this.geom.y),t.closePath(),t.fill(),t.shadowBlur=0,t.shadowOffsetX=0,t.beginPath(),t.lineWidth=2,t.fill(),t.closePath(),t.restore()},e.prototype.reset=function(){},e}(c);e.ThymioChassis=m;var u=function(t){function e(e,i,r,s){var a=t.call(this,e,i,r)||this;return a.geom={x:-10,y:-14,w:36,h:28,radius:0,color:"#0f9cF4"},a.backLeft={x:-10,y:-14,rx:0,ry:0,bumped:!1},a.backMiddle={x:-10,y:0,rx:0,ry:0},a.backRight={x:-10,y:14,rx:0,ry:0,bumped:!1},a.frontLeft={x:29,y:-14,rx:0,ry:0,bumped:!1},a.frontMiddle={x:29,y:0,rx:0,ry:0},a.frontRight={x:29,y:14,rx:0,ry:0,bumped:!1},a.wheelBack={x:0,y:0,w:0,h:0,color:"#000000"},a.wheelLeft={x:0,y:0,w:0,h:4,color:"#000000"},a.wheelRight={x:0,y:0,w:0,h:4,color:"#000000"},a.axisDiff=0,a.transformNewPose(s,a),a.wheelLeft.w=3*i.WHEELDIAMETER,a.wheelLeft.x=-a.wheelLeft.w/2,a.wheelRight.w=3*i.WHEELDIAMETER,a.wheelRight.x=-a.wheelRight.w/2,a.wheelLeft.y=3*-i.TRACKWIDTH/2-2,a.wheelRight.y=3*i.TRACKWIDTH/2-2,a.wheelFrontRight.x=a.wheelRight.x+a.wheelRight.w,a.wheelFrontRight.y=a.wheelRight.y+a.wheelRight.h,a.wheelBackRight.x=a.wheelRight.x,a.wheelBackRight.y=a.wheelRight.y+a.wheelRight.h,a.wheelFrontLeft.x=a.wheelLeft.x+a.wheelLeft.w,a.wheelFrontLeft.y=a.wheelLeft.y,a.wheelBackLeft.x=a.wheelLeft.x,a.wheelBackLeft.y=a.wheelLeft.y,o.transform(s,a.wheelFrontRight),o.transform(s,a.wheelBackRight),o.transform(s,a.wheelFrontLeft),o.transform(s,a.wheelBackLeft),a}return __extends(e,t),e.prototype.reset=function(){this.left.speed=0,this.right.speed=0,h("#display"+this.id).html("")},e}(c);e.MbotChassis=u;var k=function(){function t(){this.blink=0,this.blinkColor="LIGHTGREY",this.color="LIGHTGREY",this.r=7,this.timer=0,this.x=-10,this.y=0,this.drawPriority=10}return t.prototype.draw=function(t,e){t.save(),t.fillStyle=this.color;var i=t.createRadialGradient(this.x,this.y,0,this.x,this.y,this.r);i.addColorStop(0,this.color),i.addColorStop(.25,this.color),i.addColorStop(1,e.chassis.geom.color),t.fillStyle=i,t.beginPath(),t.arc(this.x,this.y,this.r,0,2*Math.PI),t.fill(),t.restore()},t.prototype.reset=function(){this.color="LIGHTGRAY",this.mode=i.OFF,this.blink=0},t.prototype.updateAction=function(t,e,o){var r=t.interpreter.getRobotBehaviour().getActionState("led",!0);if(r){var s=r.color,a=r.mode;switch(s&&(this.color=s.toUpperCase(),this.blinkColor=s.toUpperCase()),a){case i.OFF:this.timer=0,this.blink=0,this.color="LIGHTGRAY";break;case i.ON:this.timer=0,this.blink=0;break;case i.FLASH:this.blink=2;break;case i.DOUBLE_FLASH:this.blink=4}}this.blink>0&&(this.timer>.5&&2==this.blink||4==this.blink&&(this.timer>.5&&this.timer<.67||this.timer>.83)?this.color=this.blinkColor:this.color="LIGHTGRAY",this.timer+=e,this.timer>1&&(this.timer=0)),h("#led"+t.id).attr("fill","url('#"+this.color+t.id+"')")},t}();e.StatusLed=k;var x=function(){function t(){this.language="en-US",this.volume=.5,this.speechSynthesis=window.speechSynthesis,speechSynthesis?this.speechSynthesis.cancel():console.log("Sorry, but the Speech Synthesis API is not supported by your browser. Please, consider upgrading to the latest version or downloading Google Chrome or Mozilla Firefox")}return t.prototype.updateAction=function(t,e,i){this.volume=t.volume||this.volume,this.language=r.getLanguage();var o=t.interpreter.getRobotBehaviour().getActionState("language",!0);null!=o&&window.speechSynthesis&&(this.language=o);var s=t.interpreter.getRobotBehaviour().getActionState("sayText",!0);s&&window.speechSynthesis&&void 0!==s.text&&this.say((function(){t.interpreter.getRobotBehaviour().setBlocking(!1)}),s.text,this.language,s.speed,s.pitch)},t.prototype.say=function(t,e,i,o,r){""===e&&(e=" "),o=void 0===o?30:o,r=void 0===r?50:r,o=.015*(o=Math.max(0,Math.min(0,o)))+.5,r=.02*(r=Math.max(0,Math.min(0,r)))+.001;var s=new SpeechSynthesisUtterance(e);if(window.utterances=[],window.utterances.push(s),""===i)console.log("Language is not supported!");else{var a=void 0;a=this.speechSynthesis.getVoices();for(var h=0;h<a.length;h++)if(-1!==a[h].lang.indexOf(i)||-1!==a[h].lang.indexOf(i.substr(0,2))){s.voice=a[h];break}null===s.voice&&console.log('Language "'+i+'" could not be found. Try a different browser or for chromium add the command line flag "--enable-speech-dispatcher".')}s.pitch=r,s.rate=o,s.volume=this.volume,s.onend=function(e){t()},0!=this.volume?this.speechSynthesis.speak(s):t()},t}();e.TTS=x;var A=function(){function t(){this.tone={duration:0,timer:0,file:{0:function(t,e){var i=t.context.currentTime;e.frequency.setValueAtTime(600,i),e.start(i),e.stop(i+.2)},1:function(t,e){var i=t.context.currentTime;e.frequency.setValueAtTime(600,i),e.start(i),t.gainNode.gain.setValueAtTime(0,i+.2),t.gainNode.gain.setValueAtTime(t.volume,i+.3),e.stop(i+.5)},2:function(t,e){var i=t.context.currentTime;e.start(i);for(var o=0;o<4;o++)e.frequency.setValueAtTime(300+200*o,i+300*o/1e3),t.gainNode.gain.setValueAtTime(0,i+(300*o+200)/1e3),t.gainNode.gain.setValueAtTime(t.volume,i+300*o/1e3);e.stop(i+1.1)},3:function(t,e){var i=t.context.currentTime;e.start(i);for(var o=0;o<4;o++)e.frequency.setValueAtTime(700-200*o,i+300*o/1e3),t.gainNode.gain.setValueAtTime(0,i+(300*o+200)/1e3),t.gainNode.gain.setValueAtTime(t.volume,i+300*o/1e3);e.stop(i+1.1)},4:function(t,e){var i=t.context.currentTime;e.frequency.setValueAtTime(200,i),e.start(i),e.stop(i+.2)}}},this.volume=.5;var t=window.AudioContext||window.webkitAudioContext||null;t?(this.context=new t,this.gainNode=this.context.createGain()):console.log("Sorry, but the Web Audio API is not supported by your browser. Please, consider upgrading to the latest version or downloading Google Chrome or Mozilla Firefox")}return t.prototype.updateAction=function(t,e,i){this.volume=t.volume||this.volume;var o=t.interpreter.getRobotBehaviour().getActionState("tone",!0);if(o&&this.context){this.playTone((function(){t.interpreter.getRobotBehaviour().setBlocking(!1)}),o)}},t.prototype.playTone=function(t,e){var i=this.context.currentTime;this.gainNode.gain.value=this.volume;var o=this.context.createOscillator();o.type="square",o.connect(this.gainNode).connect(this.context.destination);var r=this;o.onended=function(e){o.disconnect(r.gainNode),r.gainNode.disconnect(r.context.destination),t()},e.frequency&&e.duration>0?(o.frequency.value=e.frequency,o.start(i),o.stop(i+e.duration/1e3)):void 0!==e.file?this.tone.file[e.file](this,o):t()},t}();e.WebAudio=A;var b=function(){function t(){this.imageTranspose=!1,this.wireFrame=!1,this.letters={A:[4,2,3,4,5,6,8,11,13,17,18,19,20],"Ä":[4,2,3,4,5,6,8,11,13,17,18,19,20],B:[4,1,2,3,4,5,6,8,10,11,13,15,17,19],C:[4,2,3,4,6,10,11,15,16,20],D:[4,1,2,3,4,5,6,10,11,15,17,18,19],E:[4,1,2,3,4,5,6,8,10,11,13,15,16,20],F:[4,1,2,3,4,5,6,8,11,13,16],G:[5,2,3,4,6,10,11,15,16,18,20,23,24],H:[4,1,2,3,4,5,8,13,16,17,18,19,20],I:[3,1,5,6,7,8,9,10,11,15],J:[5,1,4,6,10,11,15,16,17,18,19,21],K:[4,1,2,3,4,5,8,12,14,16,20],L:[4,1,2,3,4,5,10,15,20],M:[5,1,2,3,4,5,7,13,17,21,22,23,24,25],N:[5,1,2,3,4,5,7,13,19,21,22,23,24,25],O:[4,2,3,4,6,10,11,15,17,18,19],"Ö":[4,2,3,4,6,10,11,15,17,18,19],P:[4,1,2,3,4,5,6,8,11,13,17],Q:[4,2,3,6,9,11,14,15,17,18,20],R:[5,1,2,3,4,5,6,8,11,13,17,19,25],S:[4,2,5,6,8,10,11,13,15,16,19],T:[5,1,6,11,12,13,14,15,16,21],U:[4,1,2,3,4,10,15,16,17,18,19],"Ü":[4,1,2,3,4,10,15,16,17,18,19],V:[5,1,2,3,9,15,19,21,22,23],W:[5,1,2,3,4,5,9,13,19,21,22,23,24,25],X:[4,1,2,4,5,8,13,16,17,19,20],Y:[5,1,7,13,14,15,17,21],Z:[4,1,4,5,6,8,10,11,12,15,16,20],a:[5,3,4,7,10,12,15,17,18,19,20,25],"ä":[5,1,3,4,7,10,12,15,17,18,19,20,21,25],b:[4,1,2,3,4,5,8,10,13,15,19],c:[4,3,4,7,10,12,15,17,20],d:[4,4,8,10,13,15,16,17,18,19,20],e:[4,2,3,4,6,8,10,11,13,15,17,20],f:[4,3,7,8,9,10,11,13,16],g:[4,2,6,8,10,11,13,15,16,17,18,19],h:[5,1,2,3,4,5,8,13,19,20],i:[1,1,3,4,5],j:[3,5,10,11,13,14],k:[4,1,2,3,4,5,8,12,14,20],l:[3,1,2,3,4,10,15],m:[5,2,3,4,5,7,13,17,22,23,24,25],n:[4,2,3,4,5,7,12,18,19,20],o:[4,3,4,7,10,12,15,18,19],"ö":[4,1,3,4,7,10,12,15,16,18,19],p:[4,2,3,4,5,7,9,12,14,18],q:[4,3,7,9,12,14,17,18,19,20],r:[4,3,4,5,7,12,17],s:[4,5,8,10,12,14,17],t:[4,1,2,3,4,8,10,13,15,20],u:[5,2,3,4,10,15,17,18,19,20,25],"ü":[5,2,3,4,10,15,17,18,19,20,25],v:[5,2,3,9,15,19,22,23],w:[5,2,3,4,5,10,14,20,22,23,24,25],x:[4,2,5,8,9,13,14,17,20],y:[5,2,5,8,10,14,18,22],z:[4,2,5,7,9,10,12,13,15,17,20],blank:[5],"!":[1,1,2,3,5],"?":[5,2,6,11,13,15,16,18,22],",":[2,5,9],".":[1,4],"[":[3,1,2,3,4,5,6,10,11,15],"]":[3,1,5,6,10,11,12,13,14,15],"{":[3,3,6,7,8,9,10,11,15],"}":[3,1,5,6,7,8,9,10,13],"(":[2,2,3,4,6,10],")":[2,1,5,7,8,9],"<":[3,3,7,9,11,15],">":[3,1,5,7,9,13],"/":[5,5,9,13,17,21],"\\":[5,1,7,13,19,25],":":[1,2,4],";":[2,5,7,9],'"':[3,1,2,11,12],"'":[1,1,2],"@":[5,2,3,4,6,10,11,13,15,16,19,22,23,24],"#":[5,2,4,6,7,8,9,10,12,14,16,17,18,19,20,22,24],"%":[5,1,2,5,6,9,13,17,20,21,24,25],"^":[3,2,6,12],"*":[3,2,4,8,12,14],"-":[3,3,8,13],"+":[3,3,7,8,9,13],_:[5,5,10,15,20,25],"=":[3,2,4,7,9,12,14],"|":[1,1,2,3,4,5],"~":[4,3,8,14,19],"`":[2,1,7],"´":[2,2,6],0:[4,2,3,4,6,10,11,15,17,18,19],1:[3,2,5,6,7,8,9,10,15],2:[4,1,4,5,6,8,10,11,13,15,17,20],3:[5,1,4,6,10,11,13,15,16,17,19],4:[5,3,4,7,9,11,14,16,17,18,19,20,24],5:[5,1,2,3,5,6,8,10,11,13,15,16,18,20,21,24],6:[5,4,8,10,12,13,15,16,18,20,24],7:[5,1,5,6,9,11,13,16,17,21],8:[5,2,4,6,8,10,11,13,15,16,18,20,22,24],9:[5,2,6,8,10,11,13,14,16,18,22]},this.lightLevel=100,this.drawPriority=1}return t.prototype.draw=function(t,e){t.save(),t.beginPath(),t.globalAlpha=1;for(var o=0;o<this.leds.length;o++)for(var r=0;r<this.leds[o].length;r++){var s=Math.min(this.leds[o][r],this.brightness),h=a.round(s/i.BRIGHTNESS_MULTIPLIER,0);if(h>0){t.save(),t.beginPath();var l=t.createRadialGradient(2*(this.x+o*this.dx),this.y+r*this.dy,1.5*this.r,2*(this.x+o*this.dx),this.y+r*this.dy,3*this.r);l.addColorStop(0,"rgba("+this.color[h]+",1)"),l.addColorStop(1,"rgba("+this.color[h]+",0)"),t.fillStyle=l,t.scale(.5,1),t.beginPath(),t.arc(2*(this.x+o*this.dx),this.y+r*this.dy,3*this.r,0,2*Math.PI),t.fill(),t.restore(),t.beginPath()}else this.wireFrame&&(t.save(),t.beginPath(),t.scale(.5,1),t.strokeStyle="#333333",t.lineWidth=.1,t.arc(2*(this.x+o*this.dx),this.y+r*this.dy,3*this.r,0,2*Math.PI),t.stroke(),t.restore(),t.beginPath())}t.restore()},t.prototype.reset=function(){for(var t=0;t<this.leds.length;t++)for(var e=0;e<this.leds[t].length;e++)this.leds[t][e]=0;this.brightness=255,clearTimeout(this.timeout)},t.prototype.updateAction=function(t,e,o){var r=t.interpreter.getRobotBehaviour().getActionState("display",!0);if(r){if(r.text){var s=this,a=this.generateText(r.text),h=function(e,i){var o=e.slice(0,i.leds.length);i.leds=JSON.parse(JSON.stringify(o)),e.length>i.leds.length?(e.shift(),i.timeout=setTimeout(h,150,e,i)):t.interpreter.getRobotBehaviour().setBlocking(!1)};h(a,s)}if(r.character){s=this,a=this.generateCharacter(r.character);var l=function(e,i){e&&e.length>=5?(i.leds=e.slice(0,i.leds.length),e=e.slice(i.leds.length),i.timeout=setTimeout(l,400,e,i)):t.interpreter.getRobotBehaviour().setBlocking(!1)};l(a,s)}if(r.picture){var n=function(t){return t[0].map((function(e,i){return t.map((function(t){return t[i]}))}))};if(r.mode==i.ANIMATION){var c=r.picture;if(this.imageTranspose){for(var d=[],f=0;f<r.picture.length;f++)d.push(n(r.picture[f]));c=d}var p=function(e,i,o){e&&e.length>i?(o.leds=e[i],o.timeout=setTimeout(p,150,e,i+1,o)):t.interpreter.getRobotBehaviour().setBlocking(!1)};p(c,0,s=this)}else this.leds=this.imageTranspose?n(r.picture):r.picture}if(r.clear&&this.reset(),r.pixel){var y=r.pixel;0<=y.y&&y.y<this.leds.length&&0<=y.x&&y.x<this.leds[0].length?this.leds[y.x][y.y]=Math.round(y.brightness*i.BRIGHTNESS_MULTIPLIER):(0<=y.y!=y.y<this.leds[0].length&&console.warn("actions.pixel.y out of range: "+y.y),0<=y.x!=y.x<this.leds.length&&console.warn("actions.pixel.x out of range: "+y.x))}(r.brightness||0===r.brightness)&&(this.brightness=Math.round(r.brightness*i.BRIGHTNESS_MULTIPLIER))}},t.prototype.generateCharacter=function(t){for(var e=[],i=0;i<t.length;i++){var o=this.letters[t[i]];o||(o=this.letters.blank);for(var r=Array.apply(null,Array(25)).map(Number.prototype.valueOf,0),s=Math.floor((5-o[0])/2),a=1;a<o.length;a++)r[o[a]-1+5*s]=255;for(;r.length;)e.push(r.splice(0,5))}if(t.length>1)for(r=Array.apply(null,Array(25)).map(Number.prototype.valueOf,0);r.length;)e.push(r.splice(0,5));return e},t.prototype.generateText=function(t){var e=Math.ceil(this.leds[0].length>5?(this.leds[0].length-5)/2:0),i=Array(e).fill(0),o=Math.floor(this.leds[0].length>5?(this.leds[0].length-5)/2:0),r=Array(o).fill(0),s=[],a=new Array(this.leds[0].length).fill(0);s.push(a),s.push(a);for(var h=0;h<t.length;h++){var l=this.letters[t[h]];l||(l=this.letters.blank);for(var n=Array.apply(null,Array(5*l[0])).map(Number.prototype.valueOf,0),c=1;c<l.length;c++)n[l[c]-1]=255;for(;n.length;)s.push(i.concat(n.splice(0,5)).concat(r));s.push(a),s.push(a)}return 5===this.leds.length&&(s.push(a),s.push(a),s.push(a)),s},t}();e.MatrixDisplay=b;var w=function(t){function e(e){var i=t.call(this)||this;return i.leds=[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],i.brightness=255,i.color=["255,255,255","255,226,99","255,227,0","255,219,0","255,201,0","255,184,0","255,143,0","255, 113, 0","255, 76, 2","255, 0, 0"],i.dx=60,i.dy=60,i.r=10,i.x=e.x,i.y=e.y,i.imageTranspose=!0,i}return __extends(e,t),e.prototype.updateSensor=function(t,e,o,r,s,a,h,l){r.display=r.display||{},r.display.pixel=this.leds.map((function(t){return t.map((function(t){return Math.round(t/i.BRIGHTNESS_MULTIPLIER)}))})),r.display.brightness=Math.round(this.brightness/i.BRIGHTNESS_MULTIPLIER)},e}(b);e.MbedDisplay=w;var v=function(t){function e(e,i){var o=t.call(this)||this;return o.brightness=255,o.x=15,o.y=50,o.r=5,o.dx=30,o.dy=30,o.leds=[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],o.color=["161, 223, 250","161, 223, 250","161, 223, 250","161, 223, 250","161, 223, 250","161, 223, 250","161, 223, 250","161, 223, 250","161, 223, 250","161, 223, 250"],o.canvas=document.createElement("canvas"),o.x=i.x,o.y=i.y,o.canvas.id="brick"+e,o.canvas.class="border",o.canvas.width=480,o.canvas.height=280,o.canvas.classList.add("border"),o.ctx=o.canvas.getContext("2d"),o.wireFrame=!0,h("#simRobotContent").append(o.canvas),h("#brick"+e).hide(),o}return __extends(e,t),e.prototype.draw=function(e,i){this.ctx.beginPath(),this.ctx.fillStyle="#F1F1F1",this.ctx.clearRect(0,0,this.leds.length*this.dx,this.leds[0].length*this.dy+30),this.ctx.rect(0,30,this.leds.length*this.dx,this.leds[0].length*this.dy+30),this.ctx.fill(),this.ctx.beginPath(),this.ctx.fillStyle="grey",this.ctx.rect(0,0,this.leds.length*this.dx,30),this.ctx.fill(),this.ctx.beginPath(),this.ctx.fillStyle="black",this.ctx.arc(15,15,10,0,2*Math.PI,!1),this.ctx.fill(),t.prototype.draw.call(this,this.ctx,i)},e}(b);e.MbotDisplay=v;var R=function(){function t(t,e,i,o){this.color="grey",this.r=20,this.drawPriority=11,this.x=t.x,this.y=t.y,this.toReset=e,this.port=i||"0",this.r=o||this.r}return t.prototype.draw=function(t,e){if("grey"!=this.color){Array.isArray(this.color)||(this.color=[255,0,0]);var i=t.createRadialGradient(this.x,this.y,this.r/2,this.x,this.y,1.5*this.r);i.addColorStop(0,"rgba("+this.color[0]+","+this.color[1]+","+this.color[2]+",1)"),i.addColorStop(1,"rgba("+this.color[0]+","+this.color[1]+","+this.color[2]+",0)"),t.fillStyle=i,t.beginPath(),t.arc(this.x,this.y,1.5*this.r,0,2*Math.PI),t.fill()}},t.prototype.reset=function(){this.color="grey",h("#"+this.port+"-"+this.id).css({fill:"rgba(0, 0, 0, 0)"})},t.prototype.updateAction=function(t,e,i){var o=t.interpreter.getRobotBehaviour().getActionState("led",this.toReset);o&&(o[this.port]?(o=o[this.port]).mode&&"off"===o.mode?this.color="grey":o.color&&(this.color=o.color):o.port||(o.mode&&"off"===o.mode?this.color="grey":o.color&&(this.color=o.color)),"grey"===this.color?h("#"+this.port+"-"+t.id).css({fill:"rgba("+this.color[0]+", "+this.color[1]+", "+this.color[2]+", 0)"}):h("#"+this.port+"-"+t.id).css({fill:"rgba("+this.color[0]+", "+this.color[1]+", "+this.color[2]+", 255)"}))},t}();e.RGBLed=R;var M=function(){function t(t,e,i){this.r=7.5,this.drawPriority=11,this.xR=this.xL=t.x,this.yR=t.y,this.yL=-t.y,this.myRobotId=e,this.chassisColor=i,this.change()}return t.prototype.draw=function(t,e){if(this.colorL){var i=t.createRadialGradient(this.xL,this.yL,0,this.xL,this.yL,this.r);i.addColorStop(0,"rgba("+this.colorL[0]+","+this.colorL[1]+","+this.colorL[2]+",1)"),i.addColorStop(1,"rgba("+this.colorL[0]+","+this.colorL[1]+","+this.colorL[2]+",0)"),t.fillStyle=i,t.beginPath(),t.arc(this.xL,this.yL,1.5*this.r,0,2*Math.PI),t.fill()}if(this.colorR){var o=t.createRadialGradient(this.xR,this.yR,0,this.xR,this.yR,this.r);o.addColorStop(0,"rgba("+this.colorR[0]+","+this.colorR[1]+","+this.colorR[2]+",1)"),o.addColorStop(1,"rgba("+this.colorR[0]+","+this.colorR[1]+","+this.colorR[2]+",0)"),t.fillStyle=o,t.beginPath(),t.arc(this.xR,this.yR,1.5*this.r,0,2*Math.PI),t.fill()}},t.prototype.reset=function(){this.colorR=this.colorL=null,this.change()},t.prototype.change=function(){this.colorL?(h("#stopOnL"+this.myRobotId).css({"stop-color":"rgb("+this.colorL[0]+","+this.colorL[1]+","+this.colorL[2]+")","stop-opacity":1}),h("#stopOffL"+this.myRobotId).css({"stop-color":"rgb("+this.colorL[0]+","+this.colorL[1]+","+this.colorL[2]+")","stop-opacity":0})):(h("#stopOnL"+this.myRobotId).css({"stop-color":this.chassisColor,"stop-opacity":0}),h("#stopOffL"+this.myRobotId).css({"stop-color":this.chassisColor,"stop-opacity":0})),this.colorR?(h("#stopOnR"+this.myRobotId).css({"stop-color":"rgb("+this.colorR[0]+","+this.colorR[1]+","+this.colorR[2]+")","stop-opacity":1}),h("#stopOffR"+this.myRobotId).css({"stop-color":"rgb("+this.colorR[0]+","+this.colorR[1]+","+this.colorR[2]+")","stop-opacity":0})):(h("#stopOnR"+this.myRobotId).css({"stop-color":this.chassisColor,"stop-opacity":0}),h("#stopOffR"+this.myRobotId).css({"stop-color":this.chassisColor,"stop-opacity":0}))},t.prototype.updateAction=function(t,e,i){var o=t.interpreter.getRobotBehaviour().getActionState("led",!0);o&&(o.top&&((o=o.top).mode&&"off"===o.mode?this.colorL=this.colorR=null:o.color&&(this.colorL=this.colorR=o.color)),this.change())},t}();e.ThymioRGBLeds=M;var L=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.updateAction=function(t,e,i){var o=t.interpreter.getRobotBehaviour().getActionState("led",!0);o&&(o.lled&&((o=o.lled).mode&&"off"===o.mode?this.colorL=null:this.colorL=[255,0,0]),o.rled&&((o=o.rled).mode&&"off"===o.mode?this.colorR=null:this.colorR=[255,0,0]),this.change())},e}(M);e.EdisonLeds=L;var T=function(){function t(t){this.leds=[0,0,0,0,0,0,0,0],this.drawPriority=1,this.myRobotId=t,this.change()}return t.prototype.draw=function(t,e){t.save();for(var i=0;i<8;i++)this.leds[i]>0&&(t.beginPath(),t.lineWidth=1.5,t.arc(15,0,7,(2*i-1)*Math.PI/8,(2*i+1)*Math.PI/8),t.strokeStyle="rgba(255, 236, 122,"+this.leds[i]/100,t.stroke());t.restore()},t.prototype.reset=function(){this.leds=[0,0,0,0,0,0,0,0],this.change()},t.prototype.change=function(){for(var t=0;t<8;t++)h("#cLed"+t+"-"+this.myRobotId).css({stroke:"rgba(255, 236, 122,"+this.leds[t]/100})},t.prototype.updateAction=function(t,e,i){var o=t.interpreter.getRobotBehaviour().getActionState("cirleLeds",!0);o&&(this.leds=o,this.change())},t}();e.ThymioCircleLeds=T;var C=function(){function t(t){this.leds=[0,0,0,0],this.drawPriority=11,this.myRobotId=t,this.change()}return t.prototype.draw=function(t,e){t.save();for(var i=0;i<4;i++)this.leds[i]>0&&(t.beginPath(),t.lineWidth=.75,t.arc(15,0,3,(8*i-1)*Math.PI/16,(8*i+1)*Math.PI/16),t.strokeStyle="rgba(255, 0, 0,"+this.leds[i]/100,t.stroke());t.restore()},t.prototype.reset=function(){this.leds=[0,0,0,0],this.change()},t.prototype.change=function(){for(var t=0;t<4;t++)h("#bLed"+t+"-"+this.myRobotId).css({stroke:"rgba(255, 0, 0,"+this.leds[t]/100})},t.prototype.updateAction=function(t,e,i){var o=t.interpreter.getRobotBehaviour().getActionState("buttonLeds",!0);o&&(this.leds=o,this.change())},t}();e.ThymioButtonLeds=C;var E=function(){function t(t){this.leds=[{x:24*Math.cos(-Math.PI/4),y:24*Math.sin(-Math.PI/4),theta:-Math.PI/4},{x:26*Math.cos(-Math.PI/8),y:26*Math.sin(-Math.PI/8),theta:-Math.PI/8},{x:26,y:-1,theta:0},{x:26,y:1,theta:0},{x:26*Math.cos(Math.PI/8),y:26*Math.sin(Math.PI/8),theta:Math.PI/8},{x:24*Math.cos(Math.PI/4),y:24*Math.sin(Math.PI/4),theta:Math.PI/4},{x:-9,y:-13,theta:Math.PI},{x:-9,y:13,theta:Math.PI}],this.values=[0,0,0,0,0,0,0,0],this.r=1,this.drawPriority=11,this.myRobotId=t,this.change()}return t.prototype.draw=function(t,e){t.save();for(var i=0;i<8;i++)this.values[i]>0&&(t.beginPath(),t.lineWidth=.75,t.arc(this.leds[i].x,this.leds[i].y,this.r,this.leds[i].theta+Math.PI/2,this.leds[i].theta-Math.PI/2),t.fillStyle="rgba(255, 0, 0,"+this.values[i]/100+")",t.fill());t.restore()},t.prototype.reset=function(){this.values=[0,0,0,0,0,0,0,0],this.change()},t.prototype.change=function(){for(var t=0;t<8;t++)h("#hLed"+t+"-"+this.myRobotId).css({fill:"rgba(255, 0, 0,"+this.values[t]/100})},t.prototype.updateAction=function(t,e,i){var o=t.interpreter.getRobotBehaviour().getActionState("proxHLeds",!0);o&&(this.values=o,this.change())},t}();e.ThymioProxHLeds=E;var P=function(){function t(t){this.leds=[{x:10,y:-17,theta:-Math.PI/2},{x:12,y:-17,theta:-Math.PI/2}],this.values=[0,0],this.r=1,this.drawPriority=11,this.myRobotId=t,this.change()}return t.prototype.draw=function(t,e){t.save();for(var i=0;i<2;i++)if(this.values[i]>0){t.beginPath(),t.lineWidth=.75,t.arc(this.leds[i].x,this.leds[i].y,this.r,this.leds[i].theta+Math.PI/2,this.leds[i].theta-Math.PI/2);var o="rgba(0, 0, 255,"+this.values[i]/100+")";1===i&&(o="rgba(255, 0, 0,"+this.values[i]/100+")"),t.fillStyle=o,t.fill()}t.restore()},t.prototype.reset=function(){this.values=[0,0],this.change()},t.prototype.change=function(){h("#tLed0-"+this.myRobotId).css({fill:"rgba(255, 0, 0,"+this.values[1]/100}),h("#tLed1-"+this.myRobotId).css({fill:"rgba(0, 0, 255,"+this.values[0]/100})},t.prototype.updateAction=function(t,e,i){var o=t.interpreter.getRobotBehaviour().getActionState("temperatureLeds",!0);o&&(this.values=o,this.change())},t}();e.ThymioTemperatureLeds=P;var I=function(){function t(t){this.leds=[{x:12,y:17,theta:Math.PI/2}],this.value=0,this.r=1,this.drawPriority=11,this.myRobotId=t,this.change()}return t.prototype.draw=function(t,e){t.save(),this.value>0&&(t.beginPath(),t.lineWidth=.75,t.arc(this.leds[0].x,this.leds[0].y,this.r,this.leds[0].theta+Math.PI/2,this.leds[0].theta-Math.PI/2),t.fillStyle="rgba(0, 0, 255,"+this.value/100+")",t.fill()),t.restore()},t.prototype.reset=function(){this.value=0,this.change()},t.prototype.change=function(){h("#mLed0-"+this.myRobotId).css({fill:"rgba(0, 0, 255,"+this.value/100})},t.prototype.updateAction=function(t,e,i){var o=t.interpreter.getRobotBehaviour().getActionState("soundLed",!0);o&&(this.value=o,this.change())},t}();e.ThymioSoundLed=I;var S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.updateAction=function(t,e,i){var o=t.interpreter.getRobotBehaviour().getActionState("leds",this.toReset);o&&(o[this.port]?(o=o[this.port]).mode&&"off"===o.mode?this.color="grey":o.color&&(this.color=o.color):o.port||(o.mode&&"off"===o.mode?this.color="grey":o.color&&(this.color=o.color)))},e.prototype.draw=function(t,e){t.beginPath(),t.fillStyle=this.color,t.arc(this.x,this.y,2.5,0,2*Math.PI),t.fill()},e}(R);e.MbotRGBLed=S;var D=function(){function t(t,e,i){for(var o in this.pins={},this.drawPriority=12,t)this.pins[t[o].port]=t[o];this.transP=i}return t.prototype.draw=function(t,e){for(var i in this.pins){var o=this.pins[i];t.fillStyle=o.color,t.beginPath(),t.save();var r=o.x+this.transP.x,s=o.y+this.transP.y;t.translate(r,s),t.save(),t.rotate(Math.PI/2),t.font="bold 100px Roboto",t.fillText("> ",0,0),t.restore(),t.font="20px Courier","ANALOG_INPUT"===o.type?t.fillText("∿",-16,16):t.fillText("⊓",-16,16),t.fillText(o.typeValue,50,16),t.restore()}},t.prototype.updateAction=function(t,e,i){for(var o=0;o<4;o++){var r=t.interpreter.getRobotBehaviour().getActionState("pin"+o,!0);void 0!==r&&(void 0!==r.digital&&(this.pins[o].typeValue=r.digital),void 0!==r.analog&&(this.pins[o].typeValue=r.analog))}},t.prototype.reset=function(){for(var t in this.pins){this.pins[t].typeValue=0}},t}();e.PinActuators=D;var B=function(){function t(t,e){for(var i in this.motors={},this.drawPriority=12,t)this.motors[t[i].port]=t[i]}return t.prototype.draw=function(t,e){var i=40,o=2*Math.PI,r=o/14,s=35*r*.005,a=50*r*.005,h=r,l=!1;for(var n in this.motors){var c=this.motors[n];t.save(),t.beginPath(),t.translate(c.cx,c.cy),t.rotate(-c.theta),t.beginPath(),t.moveTo(i*Math.cos(a),i*Math.sin(a));for(h=r;h<=o;h+=r)l?(t.lineTo(30*Math.cos(h-s),30*Math.sin(h-s)),t.lineTo(i*Math.cos(h+a),i*Math.sin(h+a))):(t.lineTo(i*Math.cos(h-a),i*Math.sin(h-a)),t.lineTo(30*Math.cos(h+s),30*Math.sin(h+s))),l=!l;t.closePath(),t.fillStyle=c.color,t.fill(),t.lineWidth=2,t.strokeStyle="#000",t.stroke(),t.beginPath(),t.globalCompositeOperation="destination-out",t.moveTo(20,0),t.arc(0,0,20,0,o),t.closePath(),t.fill(),t.globalCompositeOperation="source-over",t.stroke(),t.restore()}},t.prototype.reset=function(){for(var t in this.motors)this.motors[t].speed=0,clearTimeout(this.motors[t].timeout)},t.prototype.updateAction=function(t,e,i){var o=t.interpreter.getRobotBehaviour().getActionState("motors",!0);if(o){var r=function(t,e){e.theta-=Math.PI/2*t/1e3,e.theta=e.theta%(2*Math.PI),e.timeout=setTimeout(r,150,t,e)},s=function(t,e){e.power=t,clearTimeout(e.timeout),(t=t>100?100:t)>0&&r(t,e)};void 0!==o.a&&s(o.a,this.motors.A),void 0!==o.b&&s(o.b,this.motors.B),void 0!==o.ab&&(s(o.ab,this.motors.A),s(o.ab,this.motors.B))}},t}();e.Motors=B}));
//# sourceMappingURL=robot.actuators.js.map
//# sourceMappingURL=robot.actuators.js.map
